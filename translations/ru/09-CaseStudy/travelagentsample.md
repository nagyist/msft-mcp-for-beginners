# Кейсовое исследование: Azure AI Travel Agents – эталонная реализация

## Обзор

[Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents) — это комплексное эталонное решение, разработанное Microsoft, демонстрирующее, как создать многоагентное приложение для планирования путешествий с искусственным интеллектом, используя Model Context Protocol (MCP), Azure OpenAI и Azure AI Search. Этот проект показывает лучшие практики по организации работы нескольких AI-агентов, интеграции корпоративных данных и предоставлению безопасной, расширяемой платформы для реальных сценариев.

## Основные возможности
- **Оркестрация с несколькими агентами:** Использует MCP для координации специализированных агентов (например, агент по рейсам, по отелям и по маршрутам), которые совместно выполняют сложные задачи планирования путешествий.
- **Интеграция корпоративных данных:** Подключается к Azure AI Search и другим корпоративным источникам данных для предоставления актуальной и релевантной информации для рекомендаций по путешествиям.
- **Безопасная, масштабируемая архитектура:** Использует службы Azure для аутентификации, авторизации и масштабируемого развертывания, следуя лучшим корпоративным практикам безопасности.
- **Расширяемые инструменты:** Реализует повторно используемые инструменты MCP и шаблоны подсказок, что обеспечивает быструю адаптацию к новым областям или бизнес-требованиям.
- **Пользовательский опыт:** Обеспечивает разговорный интерфейс для взаимодействия пользователей с агентами по путешествиям, с использованием Azure OpenAI и MCP.

## Архитектура
![Architecture](https://raw.githubusercontent.com/Azure-Samples/azure-ai-travel-agents/main/docs/ai-travel-agents-architecture-diagram.png)

### Описание диаграммы архитектуры

Решение Azure AI Travel Agents спроектировано для модульности, масштабируемости и безопасной интеграции нескольких AI-агентов и корпоративных источников данных. Основные компоненты и поток данных следующие:

- **Пользовательский интерфейс:** Пользователи взаимодействуют с системой через разговорный UI (например, веб-чат или бота в Teams), который отправляет пользовательские запросы и получает рекомендации по путешествиям.
- **MCP Сервер:** Служит центральным координатором, принимая ввод пользователя, управляя контекстом и координируя действия специализированных агентов (например, FlightAgent, HotelAgent, ItineraryAgent) через Model Context Protocol.
- **AI Агенты:** Каждый агент отвечает за определённую область (рейсы, отели, маршруты) и реализован как инструмент MCP. Агенты используют шаблоны подсказок и логику для обработки запросов и формирования ответов.
- **Служба Azure OpenAI:** Обеспечивает продвинутую обработку естественного языка и генерацию текста, позволяя агентам понимать намерения пользователя и создавать разговорные ответы.
- **Azure AI Search и корпоративные данные:** Агенты запрашивают Azure AI Search и другие корпоративные источники для получения актуальной информации о рейсах, отелях и вариантах путешествий.
- **Аутентификация и безопасность:** Интегрируется с Microsoft Entra ID для безопасной аутентификации и применяет принцип наименьших привилегий к доступу ко всем ресурсам.
- **Развертывание:** Спроектировано для развертывания в Azure Container Apps, обеспечивая масштабируемость, мониторинг и оперативную эффективность.

Эта архитектура обеспечивает плавную оркестрацию нескольких AI-агентов, безопасную интеграцию с корпоративными данными и надёжную, расширяемую платформу для создания предметно-ориентированных AI-решений.

## Пошаговое объяснение диаграммы архитектуры
Представьте, что вы планируете большое путешествие и у вас есть команда экспертов, помогающих с каждой деталью. Система Azure AI Travel Agents работает похожим образом, используя разные части (как члены команды), у каждого из которых своя особая задача. Вот как всё это работает вместе:

### Пользовательский интерфейс (UI):
Думайте об этом как о ресепшене вашего туристического агента. Здесь вы (пользователь) задаёте вопросы или делаете запросы, например: «Найди мне рейс в Париж». Это может быть окно чата на сайте или приложение для сообщений.

### MCP Сервер (Координатор):
MCP Сервер — это как менеджер, который слушает ваш запрос на ресепшене и решает, какой специалист должен заняться каждой частью задачи. Он отслеживает ваш разговор и гарантирует, что всё проходит гладко.

### AI Агенты (Специалисты-помощники):
Каждый агент — эксперт в своей области: один знает всё о рейсах, другой — об отелях, третий — о планировании маршрутов. Когда вы запрашиваете поездку, MCP Сервер отправляет ваш запрос нужному(ым) агенту(там). Эти агенты используют свои знания и инструменты, чтобы найти для вас лучшие варианты.

### Служба Azure OpenAI (Эксперт по языку):
Это как эксперт по языку, который точно понимает, что вы хотите, независимо от того, как вы это формулируете. Она помогает агентам понять ваши запросы и отвечать на естественном, разговорном языке.

### Azure AI Search и корпоративные данные (Информационная библиотека):
Представьте огромную, постоянно обновляемую библиотеку с самой последней информацией о путешествиях — расписаниями рейсов, доступностью отелей и прочим. Агенты ищут в этой библиотеке, чтобы получить самые точные ответы для вас.

### Аутентификация и безопасность (Охрана):
Как охранник проверяет, кто может войти в определённые зоны, эта часть обеспечивает, чтобы доступ к конфиденциальной информации имели только авторизованные люди и агенты. Это защищает ваши данные и сохраняет конфиденциальность.

### Развертывание в Azure Container Apps (Здание):
Все эти помощники и инструменты работают вместе внутри надёжного, масштабируемого здания (облака). Это значит, что система может одновременно обслуживать много пользователей и всегда доступна, когда вы её нуждаетесь.

## Как это работает вместе:

Вы начинаете с вопроса на ресепшене (UI).
Менеджер (MCP Сервер) определяет, какой специалист (агент) должен вам помочь.
Специалист использует эксперта по языку (OpenAI), чтобы понять ваш запрос, и библиотеку (AI Search), чтобы найти лучший ответ.
Охранник (аутентификация) следит за безопасностью.
Всё это происходит внутри надёжного, масштабируемого здания (Azure Container Apps), чтобы ваш опыт был плавным и безопасным.
Эта совместная работа позволяет системе быстро и безопасно помочь вам спланировать поездку, как команда опытных туристических агентов, работающих вместе в современном офисе!

## Техническая реализация
- **MCP Сервер:** Хостит основную логику оркестрации, предоставляет инструменты агентов и управляет контекстом для многошаговых рабочих процессов планирования путешествий.
- **Агенты:** Каждый агент (например, FlightAgent, HotelAgent) реализован как инструмент MCP с собственными шаблонами подсказок и логикой.
- **Интеграция с Azure:** Использует Azure OpenAI для понимания естественного языка и Azure AI Search для извлечения данных.
- **Безопасность:** Интегрируется с Microsoft Entra ID для аутентификации и применяет принцип наименьших привилегий ко всем ресурсам.
- **Развертывание:** Поддерживает развертывание в Azure Container Apps для масштабируемости и эффективной эксплуатации.

## Результаты и влияние
- Демонстрирует, как MCP можно использовать для оркестрации нескольких AI-агентов в реальных, промышленных сценариях.
- Ускоряет разработку решений, предоставляя повторно используемые шаблоны координации агентов, интеграции данных и безопасного развертывания.
- Является эталоном для построения предметно-ориентированных AI-приложений с использованием MCP и сервисов Azure.

## Ссылки
- [GitHub репозиторий Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents)
- [Служба Azure OpenAI](https://azure.microsoft.com/en-us/products/ai-services/openai-service/)
- [Azure AI Search](https://azure.microsoft.com/en-us/products/ai-services/ai-search/)
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)

## Что дальше

- Назад к: [Обзор кейсов](./README.md)
- Далее: [Обновление элементов ADO с YouTube](./UpdateADOItemsFromYT.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, просим учитывать, что машинный перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному переводу, выполненному человеком. Мы не несем ответственности за любые недоразумения или неверные толкования, возникшие в результате использования данного перевода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->