# Реализация защиты контента Azure с MCP

> **Риск OWASP MCP, который устраняется**: [MCP06 - Внедрение подсказок через контекстные полезные нагрузки](https://microsoft.github.io/mcp-azure-security-guide/mcp/mcp06-prompt-injection/)

Для усиления безопасности MCP против внедрения подсказок, отравления инструментов и других уязвимостей, специфичных для ИИ, настоятельно рекомендуется интегрировать Azure Content Safety. Это руководство по реализации соответствует [MCP Security Summit Workshop (Sherpa)](https://azure-samples.github.io/sherpa/) Camp 3: I/O Security.

## Интеграция с MCP сервером

Чтобы интегрировать Azure Content Safety с вашим MCP сервером, добавьте фильтр безопасности контента как промежуточное ПО в цепочку обработки запросов:

1. Инициализировать фильтр при запуске сервера  
2. Проверять все входящие запросы к инструментам перед обработкой  
3. Проверять все исходящие ответы перед возвратом клиентам  
4. Вести журнал и оповещать о нарушениях безопасности  
5. Реализовать соответствующую обработку ошибок при сбоях проверок безопасности контента  

Это обеспечивает надежную защиту от:  
- Атак внедрения подсказок  
- Попыток отравления инструментов  
- Вывода данных через вредоносные вводимые данные  
- Генерации вредоносного контента  

## Лучшие практики интеграции Azure Content Safety

1. **Пользовательские блок-листы**: Создавайте пользовательские блок-листы специально для паттернов внедрения в MCP  
2. **Настройка уровней серьезности**: Регулируйте пороговые значения серьезности на основе вашего конкретного сценария и уровня приемлемого риска  
3. **Всестороннее покрытие**: Применяйте проверки безопасности контента ко всем входящим и исходящим данным  
4. **Оптимизация производительности**: Рассмотрите возможность реализации кэширования для повторяющихся проверок безопасности контента  
5. **Механизмы резервного варианта**: Определите четкую логику резервного поведения при недоступности сервисов безопасности контента  
6. **Обратная связь пользователям**: Предоставляйте пользователям понятные уведомления, когда контент блокируется по соображениям безопасности  
7. **Постоянное совершенствование**: Регулярно обновляйте блок-листы и паттерны на основе новых угроз  

## Дополнительные ресурсы

### Рекомендации по безопасности OWASP MCP
- [OWASP MCP Azure Security Guide](https://microsoft.github.io/mcp-azure-security-guide/) - Полный список OWASP MCP Top 10 с реализацией в Azure  
- [MCP06 - Внедрение подсказок](https://microsoft.github.io/mcp-azure-security-guide/mcp/mcp06-prompt-injection/) - Подробные шаблоны смягчения внедрения подсказок  
- [MCP Security Summit Workshop](https://azure-samples.github.io/sherpa/) - Практический Camp 3: I/O Security охватывает безопасность контента  

### Документация Azure
- [Обзор Azure Content Safety](https://learn.microsoft.com/azure/ai-services/content-safety/)  
- [Документация Prompt Shields](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)  
- [Быстрый старт Azure AI Content Safety](https://learn.microsoft.com/azure/ai-services/content-safety/quickstart-text)  

## Что дальше

- Вернуться к: [Обзор модуля безопасности](./README.md)  
- Продолжить к: [Модуль 3: Начало работы](../03-GettingStarted/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Отказ от ответственности**:  
Этот документ был переведен с использованием сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется воспользоваться профессиональным переводом человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->