# MCP Inspector ဖြင့် အမှားရှာဖွေရေး

**MCP Inspector** သည် MCP ဆာဗာများကို အပြည့်အစုံ AI host application မလိုဘဲ အပြန်အလှန် စမ်းသပ်ခြင်းနှင့် ပြဿနာဖြေရှင်းခြင်း ပြုလုပ်နိုင်စေသော အထောက်အကူဖြစ်သည့် အမှားရှာဖွေရေး ကိရိယာ အရေးပါတစ်ခု ဖြစ်သည်။ ၎င်းအား "MCP အတွက် Postman" ဟု တွေးနိုင်ပြီး၊ မေးခွန်းများ စေလွှတ်ရန်၊ ပြန်ကြားချက်များ ကြည့်ရန်နှင့် ဆာဗာ၏ လုပ်ဆောင်မှုကို နားလည်ရန် ဗီဇွယ် အင်တာဖေ့စ် တစ်ခု ပေးသည်။

## MCP Inspector များကို သုံးရခြင်း အကြောင်း

MCP ဆာဗာများ တည်ဆောက်စဉ်၌ ဒီပြဿနာများကို တွေ့ကြုံရတတ်သည်-

- **"ကျွန်ုပ်၏ ဆာဗာ ပေါ်နေပါသလား?"** - Inspector မှ ချိတ်ဆက်မှုအခြေအနေ ပြသည်
- **"ကျွန်ုပ်၏ ကိရိယာများမှ မှန်ကန်စွာ မှတ်ပုံတင်ထားပါသလား?"** - Inspector မှ စနစ်တကျ ရရှိနိုင်သော ကိရိယာများကို ပြသသည်
- **"ပြန်ကြားချက်ဖော်မတ် ဘာလဲ?"** - Inspector မှ JSON ပြန်ကြားချက် အပြည့်အစုံ ပြသည် 
- **"ဒီကိရိယာ လုပ်ဆောင်မှု မရှိတာ ဘာလဲ?"** - Inspector မှ အသေးစိတ် အမှား संदेशများ ပြသည်

## မလိုအပ်သောအကြောင်းအရာများ

- Node.js 18+ ထည့်သွင်းထားရှိ
- npm (Node.js အပါအဝင်)
- စမ်းသပ်ရန် MCP ဆာဗာ တစ်ခု (ကြည့်ရန် [Module 3.1 - First Server](../01-first-server/README.md))

## ထည့်သွင်းခြင်း

### နည်းလမ်း ၁: npx ဖြင့် အလုပ်လုပ်ခြင်း (အမြန် စမ်းသပ်ရန် အကြံပြု)

```bash
npx @modelcontextprotocol/inspector
```

### နည်းလမ်း ၂: ကမ္ဘာလုံးဆိုင်ရာ ထည့်သွင်းခြင်း

```bash
npm install -g @modelcontextprotocol/inspector
mcp-inspector
```

### နည်းလမ်း ၃: သင့် ပရောဂျက်ထဲ ထည့်သွင်းခြင်း

```bash
cd your-mcp-server-project
npm install --save-dev @modelcontextprotocol/inspector
```

`package.json` ထဲ ထည့်ရန်:
```json
{
  "scripts": {
    "inspector": "mcp-inspector"
  }
}
```

---

## သင့် ဆာဗာနှင့် ချိတ်ဆက်ခြင်း

### stdio ဆာဗာများ (ဒေသတွင်း အလုပ်လုပ်နေသော လုပ်ဆောင်မှု)

စံအဝင်/အထွက် ဖြင့် ဆက်သွယ်သော ဆာဗာများအတွက်-

```bash
# Python ဆာဗာ
npx @modelcontextprotocol/inspector python -m your_server_module

# Node.js ဆာဗာ
npx @modelcontextprotocol/inspector node ./build/index.js

# ပတ်ဝန်းကျင်အဆင့်ပြောင်းလဲမှုများနှင့်အတူ
OPENAI_API_KEY=xxx npx @modelcontextprotocol/inspector python server.py
```

### SSE/HTTP ဆာဗာများ (ကွန်ယက်)

HTTP ဝန်ဆောင်မှုအဖြစ် လည်ပတ်နေသော ဆာဗာများအတွက်-

1. ဆာဗာကို အရင်စတင်ပါ:
   ```bash
   python server.py  # စာဗာကို http://localhost:8080 တွင် နှိုးဆော်နေသည်။
   ```

2. Inspector ကို စတင်ပြီး ချိတ်ဆက်ပါ:
   ```bash
   npx @modelcontextprotocol/inspector --sse http://localhost:8080/sse
   ```

---

## Inspector UI ကြည့်ခြင်း

Inspector စတင်သောအခါ၊ သင်သည် ဝက်ဘ် အင်တာဖေ့စ် (ဟုတ်ကဲ့ `http://localhost:5173` တွင် တည်ရှိသည်) တွေ့မြင်ရပါမည်-

```
┌─────────────────────────────────────────────────────────────┐
│  MCP Inspector                              [Connected ✅]   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │   🔧 Tools  │  │ 📄 Resources│  │ 💬 Prompts  │         │
│  │    (3)      │  │    (2)      │  │    (1)      │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │  📋 Message Log                                       │ │
│  │  ─────────────────────────────────────────────────── │ │
│  │  → initialize                                         │ │
│  │  ← initialized (server info)                          │ │
│  │  → tools/list                                         │ │
│  │  ← tools (3 tools)                                    │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## ကိရိယာများ စမ်းသပ်ခြင်း

### ရနိုင်သော ကိရိယာများ စာရင်းပြုစုခြင်း

1. **Tools** tab ကို နှိပ်ပါ
2. Inspector က အလိုအလျောက် `tools/list` ကို ခေါ်ယူသည်
3. မှတ်ပုံတင်ထားသော ကိရိယာအားလုံးကို -
   - ကိရိယာအမည်
   - ဖော်ပြချက်
   - အဝင် schema ( ပါရာမီတာ )

### ကိရိယာတစ်ခု ကို ခေါ်ယူခြင်း

1. စာရင်းမှ ကိရိယာတစ်ခု သတ်မှတ်ပါ
2. လိုအပ်သော ပါရာမီတာများကို ဖောင်တွင် ဖြည့်ပါ
3. **Run Tool** ကို နှိပ်ပါ
4. ရလဒ်ကို ရလဒ်ပန်နယ်တွင် ကြည့်ရှုပါ

**ဥပမာ - စာရင်းတွက် တစက္ကန့်ကိရိယာ စမ်းသပ်ခြင်း**

```
Tool: add
Parameters:
  a: 25
  b: 17

Response:
{
  "content": [
    {
      "type": "text",
      "text": "42"
    }
  ]
}
```

### ကိရိယာ အမှားများ ကို လေ့လာခြင်း

ကိရိယာတစ်ခု မအောင်မြင်သောအခါ Inspector သည်:

```
Error Response:
{
  "error": {
    "code": -32602,
    "message": "Invalid params: 'b' is required"
  }
}
```

ကိုးကားသော အမှားကုဒ်များ:
| ကုဒ် | အဓိပ္ပာယ် |
|------|-------------|
| -32700 | Parse error (မမှန်ကန်သော JSON) |
| -32600 | မမှန်ကန်သော မေးမြန်းမှု |
| -32601 | နည်းလမ်း မတွေ့ပါ |
| -32602 | မမှန်ကန်သော ပါရာမီတာများ |
| -32603 | အတွင်းပိုင်းအမှား |

---

## စမ်းသပ်ရန် အရင်းအမြစ်များ

### အရင်းအမြစ်များ စာရင်းပြုစုခြင်း

1. **Resources** tab ကို နှိပ်ပါ
2. Inspector က `resources/list` ကို ခေါ်ယူသည်
3. တွေ့ရမည့်အရာများ-
   - အရင်းအမြစ် URI များ
   - အမည်များနှင့် ဖော်ပြချက်များ
   - MIME အမျိုးအစားများ

### အရင်းအမြစ် တစ်ခု ကို ဖတ်ရှုခြင်း

1. အရင်းအမြစ် တစ်ခုကို ရွေးချယ်ပါ
2. **Read Resource** ကို နှိပ်ပါ
3. ပြန်လာသော အကြောင်းအရာကို ကြည့်ရှုပါ

**ဥပမာ ထုတ်လွှင့်ချက်:**

```
Resource: file:///config/settings.json
Content-Type: application/json

{
  "config": {
    "debug": true,
    "maxConnections": 10
  }
}
```

---

## စမ်းသပ်ရန် အမိန့်များ

### အမိန့်များ စာရင်းပြုစုခြင်း

1. **Prompts** tab ကို နှိပ်ပါ
2. Inspector က `prompts/list` ကို ခေါ်ယူသည်
3. ရရှိနိုင်သော prompt ဖောင်များ ကြည့်ရှုပါ

### prompt တစ်ခု ရယူခြင်း

1. prompt တစ်ခု ရွေးချယ်ပါ
2. လိုအပ်သည့် အလားအလာများ ဖြည့်ပါ
3. **Get Prompt** ကို နှိပ်ပါ
4. ဖော်ပြထားသော prompt စာတိုများကို မြင်ရမည်

---

## မက်ဆေ့ခ်ျ မှတ်တမ်း ချဉ်းကပ်ခြင်း

မက်ဆေ့ခ်ျ မှတ်တမ်းတွင် MCP protocol မက်ဆေ့ခ်ျများအားလုံး ပြထားသည်-

```
14:32:01 → {"jsonrpc":"2.0","id":1,"method":"initialize",...}
14:32:01 ← {"jsonrpc":"2.0","id":1,"result":{"protocolVersion":"2025-11-25",...}}
14:32:02 → {"jsonrpc":"2.0","id":2,"method":"tools/list"}
14:32:02 ← {"jsonrpc":"2.0","id":2,"result":{"tools":[...]}}
14:32:05 → {"jsonrpc":"2.0","id":3,"method":"tools/call","params":{"name":"add",...}}
14:32:05 ← {"jsonrpc":"2.0","id":3,"result":{"content":[...]}}
```

### အာရုံစိုက်သင့်သည့်အချက်များ

- **မေးခွန်း/ပြန်ကြားချက် တိုး/ကျော်သား**: `→` နှင့် ပြန်လာသော `←` တိုက်ဆိုင်ရမည်
- **အမှား မက်ဆေ့ခ်ျများ**: ပြန်ကြားချက်များတွင် `"error"` ရှာဖွေပါ
- **အချိန် ပျက်ကွက်မှု**: ကြီးမားသော အကြားကာလများမှာ လုပ်ဆောင်ချက် အခက်အခဲဖြစ်နိုင်သည်
- **Protocol ဗားရှင်း**: ဆာဗာနှင့် ကလိုင်ယန့် သဘောတူကြောင်း သေချာစေပါ

---

## VS Code ပေါင်းစည်းခြင်း

Inspector ကို VS Code မှတဆင့် တိုက်ရိုက် ပြေးနိုင်သည်-

### launch.json အသုံးပြုခြင်း

`.vscode/launch.json` ထဲ ထည့်ပါ-

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug with MCP Inspector",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "npx",
      "runtimeArgs": [
        "@modelcontextprotocol/inspector",
        "python",
        "${workspaceFolder}/server.py"
      ],
      "console": "integratedTerminal"
    },
    {
      "name": "Debug SSE Server with Inspector",
      "type": "chrome",
      "request": "launch",
      "url": "http://localhost:5173",
      "preLaunchTask": "Start MCP Inspector"
    }
  ]
}
```

### Tasks အသုံးပြုခြင်း

`.vscode/tasks.json` ထဲ ထည့်ပါ-

```json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Start MCP Inspector",
      "type": "shell",
      "command": "npx @modelcontextprotocol/inspector node ${workspaceFolder}/build/index.js",
      "isBackground": true,
      "problemMatcher": {
        "pattern": {
          "regexp": "^$"
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "Inspector",
          "endsPattern": "listening"
        }
      }
    }
  ]
}
```

---

## ရိုးရိုး Debugging အခြေအနေများ

### အခြေအနေ ၁: ဆာဗာ ချိတ်ဆက် မရခြင်း

**လက္ခဏာများ:** Inspector မှ "Disconnected" ဟု ပြသခြင်း သို့မဟုတ် "Connecting..." တွင် ရပ်နားနေခြင်း

**စစ်ဆေးရန်:**
1. ✅ ဆာဗာ Command မှန်ကန်ပါသလား?
2. ✅ လိုအပ်သော အားလုံး dependencies ထည့်သွင်းထားပါသလား?
3. ✅ ဆာဗာ နေရာလမ်းကြောင်း အပြည့်အဝ သို့မဟုတ် ယခု ဒိုင်ရက်ထရီ relative ဒီလမ်းကြောင်းရှိပါသလား?
4. ✅ လိုအပ်သော ပတ်ဝန်းကျင် အပြောင်းအလဲများ သတ်မှတ်ထားပါသလား?

**အမှားရှုထောင့်:**
```bash
# စမ်းသပ်ဆာဗာအား လက်ရှိဖြင့် စစ်ဆေးပါ
python -c "import your_server_module; print('OK')"

# သွင်းယူမှုအမှားများစစ်ဆေးပါ
python -m your_server_module 2>&1 | head -20

# MCP SDK ထည့်သွင်းပြီး ဖြစ်ကြောင်း အတည်ပြုပါ
pip show mcp
```

### အခြေအနေ ၂: ကိရိယာများ မပေါ်ခြင်း

**လက္ခဏာများ:** Tools tab သည် အလွတ် စာရင်း ပြသသည်

**ဖြစ်နိုင်သော အကြောင်းတရားများ:**
1. ဆာဗာ စတင်စဉ်တွင် ကိရိယာများ မမှတ်ပုံတင်ခဲ့ခြင်း
2. ဆာဗာ စတင်ပြီးနောက် ကုန်ကြောင်းသိုလှောင်မှု ပျက်စီးခြင်း
3. `tools/list` ကို ညွှန်ကြားမှု မပါသော အနုတ် array ပြန်လာခြင်း

**အမှားရှာဖွေခြင်း:**
1. message log တွင် `tools/list` ပြန်ကြားချက် ကို စစ်ဆေးပါ
2. သင့်၏ tool မှတ်ပုံတင် လုပ်ငန်းစဉ် code တွင် log ထည့်ပါ
3. `@mcp.tool()` decorator များ ရှိ/မရှိ မသတ်မှတ်ပါ (Python)

### အခြေအနေ ၃: ကိရိယာ မှ အမှား ပြန်လာခြင်း

**လက္ခဏာ:** ကိရိယာ ခေါ်ယူရာတွင် အမှား ပြန်ကြားချက် ရရှိခြင်း

**ဖြေရှင်းနည်း:**
1. အမှား စာသားကို ကောင်းစွာ ဖတ်ရှုပါ
2. ပါရာမီတာ အမျိုးအစားသည် schema နှင့် ကိုက်ညီကြောင်း စစ်ဆေးပါ
3. try/catch ဖြင့် အသေးစိတ် အမှား မက်ဆေ့ချ် ထည့်ပါ
4. ဆာဗာ log များတွင် stack trace များ ရှာဖွေပါ

**စမ်းသပ်မှု အတွက် အမှား ကိုင်တွယ်မှုပြင်ဆင်ချက်:**

```python
@mcp.tool()
async def my_tool(param1: str, param2: int) -> str:
    try:
        # ဒီမှာ စက်ပစ္စည်း လုပ်ဆောင်ချက် ရေးထားသည်။
        result = process(param1, param2)
        return str(result)
    except ValueError as e:
        raise McpError(f"Invalid parameter: {e}")
    except Exception as e:
        raise McpError(f"Tool failed: {type(e).__name__}: {e}")
```

### အခြေအနေ ၄: အရင်းအမြစ် အကြောင်းအရာ ဖျောက်နေခြင်း

**လက္ခဏာ:** အရင်းအမြစ် ပြန်လာသော်လည်း အကြောင်းအရာ စွန့်တောက်/ null ဖြစ်နေခြင်း

**စစ်ဆေးရန်:**
1. ✅ ဖိုင် လမ်းကြောင်း သို့မဟုတ် URI မှန်ကန်ပါသလား?
2. ✅ ဆာဗာတွင် အရင်းအမြစ် ဖတ်ခွင့်ရှိပါသလား?
3. ✅ အရင်းအမြစ် အကြောင်းအရာ ကျေအောင် ပြန်လာနေပါသလား?

---

## အဆင့်မြင့် Inspector လက္ခဏာများ

### စိတ်ကြိုက် Header များ (SSE)

```bash
npx @modelcontextprotocol/inspector \
  --sse http://localhost:8080/sse \
  --header "Authorization: Bearer your-token"
```

### အသေးစိတ် မှတ်တမ်းတင်ခြင်း

```bash
DEBUG=mcp* npx @modelcontextprotocol/inspector python server.py
```

### ဆက်စပ် ချိန်တွေ မှတ်တမ်းတင်ခြင်း

Inspector သည် နောက်တွင် စိစစ်ရန် message log များ ပို့တဲ့နိုင်သည်-
1. အမက်ဆေ့ခ်ျ ပန်နယ်တွင် **Export Log** ကို နှိပ်ပါ
2. JSON ဖိုင် သိမ်းဆည်းပါ
3. debugging အတွက် အဖွဲ့၀င်များနှင့် မျှဝေပါ

---

## အကောင်းဆုံး လေ့လာမှုများ

1. **စမ်းသပ်မှုများ လျင်မြန်ပြီး အကြိမ်ကြိမ်လုပ်ပါ** - ခွဲခြားဖြေရှင်းစဉ်တွင် Inspector ကို သုံးပါ၊ ပျက်ကွက်သည့်အခါသာ မဟုတ်ပါ
2. **ရိုးရှင်းကနေ စတင်ပါ** - ဥပမာ အခြေခံ ချိတ်ဆက်မှုကို စစ်ဆေးပြီးမှ ကိရိယာခေါ်ရန် ဆက်လုပ်ပါ
3. **schema ကို စစ်ဆေးပါ** - အမှားများ၏ အများစုသည် ပါရာမီတာအမျိုးအစား မကိုက်ညီခြင်းကြောင့် ဖြစ်သည်
4. **အမှား မက်ဆေ့ခ်ျများ ဖတ်ပါ** - MCP အမှားများသည် ပုံမှန်အားဖြင့် ဖော်ပြချက်ရှိသည်
5. **Inspector ကို ဖွင့်ထားပါ** - ဖွံ့ဖြိုးရေးလုပ်စဉ်ကို ကြည့်ရှုရန် အထောက်အကူဖြစ်သည်

---

## နောက်တစ်ဆင့်

Module 3: Getting Started ပြီးစီးပါပြီ! သင့်မှာ တိုးတက်မှုများ ဆက်လက် လေ့လာပါ-

- [Module 4: Practical Implementation](../../04-PracticalImplementation/README.md)

---

## ထပ်ပြီး ရရှိနိုင်သော အရင်းအမြစ်များ

- [MCP Inspector GitHub Repository](https://github.com/modelcontextprotocol/inspector)
- [MCP Specification - Protocol Messages](https://spec.modelcontextprotocol.io/specification/2025-11-25/)
- [JSON-RPC 2.0 Specification](https://www.jsonrpc.org/specification)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**အတည်မပြုချက်**  
ဤစာတမ်းကို AI ဘာသာပြန်ဝန်ဆောင်မှုဖြစ်သော [Co-op Translator](https://github.com/Azure/co-op-translator) မှတစ်ဆင့် ဘာသာပြန်ထားခြင်းဖြစ်ပါသည်။ ကျနော်တို့သည် တိကျမှန်ကန်မှုအတွက် ကြိုးပမ်းနေသော်လည်း၊ အလိုအလျောက်ဘာသာပြန်ထားမှုသည် မှားယွင်းချက်များ သို့မဟုတ် မှန်ကန်မှုမရှိမှုများ ဖြစ်ပေါ်နိုင်ကြောင်း သတိပြုပါရန် хүсသည်။ မူရင်းစာတမ်းကို၎င်း၏ မူရင်းဘာသာစကားဖြင့် မှန်ကန်မှုရှိသော အရင်းအမြစ်အဖြစ် ထည့်သင့်ပါသည်။ အရေးကြီးသောအချက်အလက်များအတွက်တော့ လူ့အဆိုပြု ဘာသာပြန်မှုကို အသုံးပြုရန် အကြံပြုပါသည်။ ဤဘာသာပြန်မှုကို အသုံးပြုရာမှ ဖြစ်ပေါ်လာသော များစွာသော နားလည်မှားခြင်းများ သို့မဟုတ် ပေါက်ဖွားမှုများအတွက်ကျွန်ုပ်တို့မှာ တာဝန်ယူမှု မရှိပါ။
<!-- CO-OP TRANSLATOR DISCLAIMER END -->