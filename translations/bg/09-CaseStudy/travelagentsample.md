# Казус: Azure AI Travel Agents – Пример за референтна реализация

## Преглед

[Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents) е цялостно референтно решение, разработено от Microsoft, което демонстрира как да изградите многократно-агентно AI приложение за планиране на пътувания, използвайки Model Context Protocol (MCP), Azure OpenAI и Azure AI Search. Този проект показва най-добрите практики за оркестриране на множество AI агенти, интегриране на корпоративни данни и предоставяне на сигурна, разширяема платформа за реални сценарии.

## Основни характеристики
- **Многократно-агентно оркестриране:** Използва MCP за координиране на специализирани агенти (например агенти за полети, хотели и маршрути), които си сътрудничат за изпълнение на сложни задачи по планиране на пътувания.
- **Интеграция на корпоративни данни:** Свързва се с Azure AI Search и други корпоративни източници на данни, за да предоставя актуална и релевантна информация за препоръки за пътуване.
- **Сигурна, мащабируема архитектура:** Използва Azure услуги за удостоверяване, упълномощаване и мащабируема реализация, следвайки най-добрите практики за корпоративна сигурност.
- **Разширяеми инструменти:** Прилага многократно използваеми MCP инструменти и шаблони за подканяне, което позволява бързо адаптиране към нови домейни или бизнес изисквания.
- **Потребителски опит:** Предлага разговорен интерфейс за потребителите да комуникират с агенти за пътувания, задвижван от Azure OpenAI и MCP.

## Архитектура
![Architecture](https://raw.githubusercontent.com/Azure-Samples/azure-ai-travel-agents/main/docs/ai-travel-agents-architecture-diagram.png)

### Описание на диаграмата на архитектурата

Решението Azure AI Travel Agents е проектирано с модулност, мащабируемост и сигурна интеграция на множество AI агенти и корпоративни източници на данни. Основните компоненти и поток на данни са както следва:

- **Потребителски интерфейс:** Потребителите взаимодействат със системата чрез разговорен UI (като уеб чат или Teams бот), който изпраща заявките на потребителя и получава препоръки за пътувания.
- **MCP сървър:** Действа като централен организатор, приема входните данни от потребителя, управлява контекста и координира действията на специализирани агенти (например FlightAgent, HotelAgent, ItineraryAgent) чрез Model Context Protocol.
- **AI агенти:** Всеки агент е отговорен за конкретна област (полети, хотели, маршрути) и е реализиран като MCP инструмент. Агентите използват шаблони за подканване и логика за обработка на заявки и генериране на отговори.
- **Azure OpenAI услуга:** Осигурява напреднало разбиране и генериране на естествен език, позволявайки на агентите да интерпретират намерението на потребителя и да генерират разговорни отговори.
- **Azure AI Search и корпоративни данни:** Агентите запитват Azure AI Search и други корпоративни източници на данни, за да извлекат актуална информация за полети, хотели и възможности за пътуване.
- **Удостоверяване и сигурност:** Интеграция с Microsoft Entra ID за сигурно удостоверяване и прилагане на контрол на достъпа с най-малко привилегии за всички ресурси.
- **Реализация:** Проектирано за разгръщане в Azure Container Apps, осигуряващо мащабируемост, наблюдение и оперативна ефективност.

Тази архитектура позволява безпроблемно оркестриране на множество AI агенти, сигурна интеграция с корпоративни данни и стабилна, разширяема платформа за изграждане на AI решения, специфични за дадена област.

## Стъпка по стъпка обяснение на диаграмата на архитектурата
Представете си, че планирате голямо пътуване и имате екип от експертни асистенти, които ви помагат с всеки детайл. Системата Azure AI Travel Agents работи по подобен начин, използвайки различни части (като членове на екип), като всеки има специална задача. Ето как всичко се свързва:

### Потребителски интерфейс (UI):
Помислете за това като рецепция на вашия туристически агент. Там вие (потребителят) задавате въпроси или правите заявки, като „Намери ми полет до Париж.“ Това може да бъде чат прозорец на уебсайт или приложение за съобщения.

### MCP сървър (Координаторът):
MCP сървърът е като мениджъра, който слуша вашата заявка на рецепцията и решава кой специалист да отговори на всяка част. Той следи разговора ви и гарантира, че всичко върви гладко.

### AI агенти (специализирани асистенти):
Всеки агент е експерт в определена област – един знае всичко за полетите, друг – за хотелите, а трети – за планиране на маршрути. Когато поискате пътуване, MCP сървърът изпраща вашата заявка към съответния(те) агент(и). Тези агенти използват своя опит и инструменти, за да открият най-добрите опции за вас.

### Azure OpenAI услуга (езиков експерт):
Това е като езиков експерт, който разбира точно какво питате, независимо как го формулирате. Той помага на агентите да разберат вашите заявки и да отговорят на естествен, разговорен език.

### Azure AI Search и корпоративни данни (информационна библиотека):
Представете си огромна, актуализирана библиотека с цялата най-нова информация за пътувания – разписания на полети, наличности на хотели и още. Агентите търсят в тази библиотека, за да получат най-точните отговори за вас.

### Удостоверяване и сигурност (охранител):
Точно както охранител проверява кой може да влезе в определени зони, тази част гарантира, че само упълномощени лица и агенти имат достъп до поверителна информация. Тя пази вашите данни в безопасност и поверителност.

### Реализация в Azure Container Apps (сградата):
Всички тези асистенти и инструменти работят заедно вътре в сигурна, мащабируема сграда (облак). Това означава, че системата може да обслужва много потребители едновременно и винаги е на разположение, когато имате нужда.

## Как всичко работи заедно:

Започвате, като зададете въпрос на рецепцията (UI).  
Мениджърът (MCP сървър) определя кой специалист (агент) трябва да ви помогне.  
Специалистът използва езиковия експерт (OpenAI), за да разбере заявката ви и библиотеката (AI Search), за да намери най-добрия отговор.  
Охранителят (Удостоверяване) гарантира, че всичко е безопасно.  
Всичко това се случва вътре в надеждна, мащабируема сграда (Azure Container Apps), така че вашето преживяване е гладко и сигурно.  
Тази съвместна работа позволява на системата бързо и безопасно да ви помогне да планирате пътуването си, точно както екип от експертни туристически агенти, работещи заедно в модерен офис!

## Техническа реализация
- **MCP сървър:** Хоства основната оркестрационна логика, предоставя инструменти за агенти и управлява контекста за многостъпкови задачи по планиране на пътувания.
- **Агенти:** Всеки агент (например FlightAgent, HotelAgent) е реализиран като MCP инструмент със собствени шаблони за подканване и логика.
- **Интеграция с Azure:** Използва Azure OpenAI за разбиране на естествен език и Azure AI Search за извличане на данни.
- **Сигурност:** Интегрира се с Microsoft Entra ID за удостоверяване и прилага контрол на достъпа с най-малко привилегии за всички ресурси.
- **Реализация:** Поддържа разгръщане в Azure Container Apps за мащабируемост и оперативна ефективност.

## Резултати и въздействие
- Демонстрира как MCP може да се използва за оркестриране на множество AI агенти в реален производствен сценарий.
- Ускорява разработката на решения, като предоставя многократно използваеми модели за координация на агенти, интеграция на данни и сигурно разгръщане.
- Служи като образец за изграждане на домейн-специфични AI приложения, задвижвани от MCP и Azure услуги.

## Референции
- [Azure AI Travel Agents GitHub хранилище](https://github.com/Azure-Samples/azure-ai-travel-agents)
- [Azure OpenAI услуга](https://azure.microsoft.com/en-us/products/ai-services/openai-service/)
- [Azure AI Search](https://azure.microsoft.com/en-us/products/ai-services/ai-search/)
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)

## Какво следва

- Обратно към: [Общ преглед на казуси](./README.md)
- Следващо: [Актуализиране на ADO елементи от YouTube](./UpdateADOItemsFromYT.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**Отказ от отговорност**:  
Този документ е преведен с помощта на AI преводаческа услуга [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматичните преводи могат да съдържат грешки или неточности. Оригиналният документ на неговия оригинален език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален човешки превод. Ние не носим отговорност за никакви недоразумения или неправилни тълкувания, произтичащи от използването на този превод.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->