# MCP ‡¥™‡µç‡¥∞‡µã‡¥ü‡µç‡¥ü‡µã‡¥ï‡µç‡¥ï‡µã‡µæ ‡¥´‡µÄ‡¥ö‡µç‡¥ö‡¥±‡µÅ‡¥ï‡¥≥‡µÅ‡¥ü‡µÜ ‡¥Ü‡¥¥‡¥§‡µç‡¥§‡¥ø‡¥≤‡µÅ‡¥≥‡µç‡¥≥ ‡∞Ö‡∞ß‡±ç‡∞Ø‡¥Ø‡¥®‡¥Ç

‡¥Æ‡µÇ‡¥≤‡µç‡¥Ø‡¥µ‡¥æ‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥â‡¥™‡¥ï‡¥∞‡¥£‡¥µ‡µÅ‡¥Ç ‡¥µ‡¥ø‡¥≠‡¥µ‡¥ô‡µç‡¥ô‡µæ ‡¥ï‡µà‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡¥®‡µÜ ‡¥§‡¥æ‡¥£‡µç‡¥ü‡¥ø‡¥Ø‡µÅ‡¥≥‡µç‡¥≥ ‡¥â‡¥Ø‡µº‡¥®‡µç‡¥® ‡¥§‡¥≤‡¥§‡µç‡¥§‡¥ø‡¥≤‡µÅ‡¥≥‡µç‡¥≥ MCP ‡¥™‡µç‡¥∞‡µã‡¥ü‡µç‡¥ü‡µã‡¥ï‡µç‡¥ï‡µã‡µæ ‡¥´‡µÄ‡¥ö‡µç‡¥ö‡¥±‡µÅ‡¥ï‡¥≥‡µÜ ‡¥ï‡µÅ‡¥±‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥à ‡¥ó‡µà‡¥°‡µç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ. ‡¥à ‡¥´‡µÄ‡¥ö‡µç‡¥ö‡¥±‡µÅ‡¥ï‡µæ ‡¥Æ‡¥®‡¥∏‡µç‡¥∏‡¥ø‡¥≤‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡µç ‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡µΩ ‡¥∏‡µÅ‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥§‡¥µ‡µÅ‡¥Ç ‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡µÉ ‡¥∏‡µó‡¥π‡µÉ‡¥¶‡¥µ‡µÅ‡¥Æ‡¥æ‡¥Ø, ‡¥â‡¥§‡µç‡¥™‡¥æ‡¥¶‡¥®‡¥∏‡¥ú‡µç‡¥ú‡¥Æ‡¥æ‡¥Ø MCP ‡¥∏‡µÜ‡µº‡¥µ‡¥±‡µÅ‡¥ï‡µæ ‡¥®‡¥ø‡µº‡¥Æ‡µç‡¥Æ‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥∏‡¥π‡¥æ‡¥Ø‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç.

## ‡¥â‡µæ‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥ø‡¥Ø ‡¥´‡µÄ‡¥ö‡µç‡¥ö‡¥±‡µÅ‡¥ï‡µæ

1. **‡¥™‡µç‡¥∞‡µã‡¥ó‡µç‡¥∞‡¥∏‡µç ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ** - ‡¥¶‡µÄ‡µº‡¥ò‡¥®‡µá‡¥∞‡¥Ç ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥ô‡µç‡¥ô‡¥≥‡¥ø‡¥≤‡µÜ ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø ‡¥±‡¥ø‡¥™‡µç‡¥™‡µã‡µº‡¥ü‡µç‡¥ü‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï  
2. **‡¥±‡¥ø‡¥ï‡µç‡¥µ‡¥∏‡µç‡¥±‡µç‡¥±‡µç ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ** - ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡µÅ‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥ì‡¥´‡µç-‡¥´‡µç‡¥≤‡µà‡¥±‡µç‡¥±‡µç ‡¥±‡¥ø‡¥ï‡µç‡¥µ‡¥∏‡µç‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥Ö‡¥µ‡¥∏‡¥∞‡¥Ç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï  
3. **‡¥±‡¥ø‡¥∏‡µã‡¥¥‡µç‚Äå‡¥∏‡µç ‡¥ü‡µÜ‡¥Ç‡¥™‡µç‡¥≤‡µá‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ** - ‡¥™‡¥æ‡¥∞‡¥æ‡¥Æ‡µÄ‡¥±‡µç‡¥±‡¥±‡µÅ‡¥ï‡¥≥‡µÅ‡¥≥‡µç‡¥≥ ‡¥°‡µà‡¥®‡¥æ‡¥Æ‡¥ø‡¥ï‡µç ‡¥±‡¥ø‡¥∏‡µã‡¥¥‡µç‚Äå‡¥∏‡µç URI‡¥ï‡µæ  
4. **‡¥∏‡µÜ‡µº‡¥µ‡µº ‡¥≤‡µà‡¥´‡µç‚Äå‡¥∏‡µà‡¥ï‡¥ø‡µæ ‡¥á‡¥µ‡¥®‡µç‡¥±‡µÅ‡¥ï‡µæ** - ‡¥Ø‡µã‡¥ú‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥Ç ‡¥Ü‡¥∞‡¥Ç‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µΩ, ‡¥Ö‡¥µ‡¥∏‡¥æ‡¥®‡¥ø‡¥ï‡µç‡¥ï‡µΩ  
5. **‡¥≤‡µã‡¥ó‡¥ø‡¥Ç‡¥ó‡µç ‡¥®‡¥ø‡¥Ø‡¥®‡µç‡¥§‡µç‡¥∞‡¥£‡¥Ç** - ‡¥∏‡µÜ‡µº‡¥µ‡µº-‡¥™‡¥æ‡µº‡¥∂‡µç‡¥µ ‡¥≤‡µã‡¥ó‡¥ø‡¥Ç‡¥ó‡µç ‡¥ï‡µã‡µ∫‡¥´‡¥ø‡¥ó‡¥±‡µá‡¥∑‡µª  
6. **‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥ï‡µà‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥≤‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥Æ‡¥æ‡¥§‡µÉ‡¥ï‡¥ï‡µæ** - ‡¥∏‡µÅ‡¥§‡¥æ‡¥∞‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥™‡µç‡¥∞‡¥§‡¥ø‡¥ï‡¥∞‡¥£‡¥ô‡µç‡¥ô‡µæ  

---

## 1. ‡¥™‡µç‡¥∞‡µã‡¥ó‡µç‡¥∞‡¥∏‡µç ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ

‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡¥æ‡¥Ø‡¥ø (‡¥°‡¥æ‡¥±‡µç‡¥± ‡¥™‡µç‡¥∞‡µã‡¥∏‡¥∏‡µç‡¥∏‡¥ø‡¥Ç‡¥ó‡µç, ‡¥´‡¥Ø‡µΩ ‡¥°‡µó‡µ∫‡¥≤‡µã‡¥°‡µç, API ‡¥ï‡µã‡µæ‡¥∏‡µç), ‡¥™‡µç‡¥∞‡µã‡¥ó‡µç‡¥∞‡¥∏‡µç ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ ‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡¥æ‡¥ï‡µç‡¥ï‡¥≥‡µÜ ‡¥µ‡¥ø‡¥µ‡¥∞‡¥Ç ‡¥®‡µΩ‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ.

### ‡¥é‡¥ô‡µç‡¥ô‡¥®‡µÜ ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ

```mermaid
sequenceDiagram
    participant Client
    participant Server
    
    Client->>Server: tools/call (‡¥≤‡µá‡¥Æ‡µç‡¥™‡µç ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥Ç)
    Server-->>Client: notification: ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø 10%
    Server-->>Client: notification: ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø 50%
    Server-->>Client: notification: ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø 90%
    Server->>Client: ‡¥´‡¥≤‡¥Ç (‡¥™‡µÇ‡¥∞‡µç‡¥£‡µç‡¥£‡¥Æ‡¥æ‡¥Ø)
```  
### ‡¥™‡µà‡¥§‡µç‡¥§‡µ∫ ‡¥®‡¥ü‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```python
from mcp.server import Server, NotificationOptions
from mcp.types import ProgressNotification
import asyncio

app = Server("progress-server")

@app.tool()
async def process_large_file(file_path: str, ctx) -> str:
    """Process a large file with progress updates."""
    
    # ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø ‡¥ï‡¥£‡¥ï‡µç‡¥ï‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡¥®‡¥æ‡¥Ø‡¥ø ‡¥´‡¥Ø‡µΩ ‡¥µ‡¥≤‡µÅ‡¥™‡µç‡¥™‡¥Ç ‡¥®‡µá‡¥ü‡µÅ‡¥ï
    file_size = os.path.getsize(file_path)
    processed = 0
    
    with open(file_path, 'rb') as f:
        while chunk := f.read(8192):
            # ‡¥ò‡¥ü‡¥ï‡¥Ç ‡¥™‡µç‡¥∞‡µã‡¥∏‡¥∏‡µç‡¥∏‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
            await process_chunk(chunk)
            processed += len(chunk)
            
            # ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µç ‡¥Ö‡¥Ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
            progress = (processed / file_size) * 100
            await ctx.send_notification(
                ProgressNotification(
                    progressToken=ctx.request_id,
                    progress=progress,
                    total=100,
                    message=f"Processing: {progress:.1f}%"
                )
            )
    
    return f"Processed {file_size} bytes"

@app.tool()
async def batch_operation(items: list[str], ctx) -> str:
    """Process multiple items with progress."""
    
    results = []
    total = len(items)
    
    for i, item in enumerate(items):
        result = await process_item(item)
        results.append(result)
        
        # ‡¥ì‡¥∞‡µã ‡¥ê‡¥±‡µç‡¥±‡¥§‡µç‡¥§‡¥ø‡¥®‡µÅ‡¥Ç ‡¥∂‡µá‡¥∑‡¥Ç ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø ‡¥±‡¥ø‡¥™‡µç‡¥™‡µã‡µº‡¥ü‡µç‡¥ü‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
        await ctx.send_notification(
            ProgressNotification(
                progressToken=ctx.request_id,
                progress=i + 1,
                total=total,
                message=f"Processed {i + 1}/{total}: {item}"
            )
        )
    
    return f"Completed {total} items"
```
  
### ‡¥ü‡µà‡¥™‡µç‡¥™‡µç‡¥∏‡µç‡¥ï‡µç‡¥∞‡¥ø‡¥™‡µç‡¥±‡µç‡¥±‡µç ‡¥®‡¥ü‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```typescript
import { Server } from "@modelcontextprotocol/sdk/server/index.js";

server.setRequestHandler(CallToolSchema, async (request, extra) => {
  const { name, arguments: args } = request.params;
  
  if (name === "process_data") {
    const items = args.items as string[];
    const results = [];
    
    for (let i = 0; i < items.length; i++) {
      const result = await processItem(items[i]);
      results.push(result);
      
      // ‡¥™‡µÅ‡¥∞‡µã‡¥ó‡¥§‡¥ø ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µç ‡¥Ö‡¥Ø‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µÅ‡¥ï
      await extra.sendNotification({
        method: "notifications/progress",
        params: {
          progressToken: request.id,
          progress: i + 1,
          total: items.length,
          message: `Processing item ${i + 1}/${items.length}`
        }
      });
    }
    
    return { content: [{ type: "text", text: JSON.stringify(results) }] };
  }
});
```
  
### ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡µç ‡¥ï‡µà‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µΩ (‡¥™‡µà‡¥§‡µç‡¥§‡µ∫)

```python
async def handle_progress(notification):
    """Handle progress notifications from server."""
    params = notification.params
    print(f"Progress: {params.progress}/{params.total} - {params.message}")

# ‡¥π‡¥æ‡µª‡¥°‡µç‡¥≤‡µº ‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
session.on_notification("notifications/progress", handle_progress)

# ‡¥ü‡µÇ‡µæ ‡¥µ‡¥ø‡¥≥‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï (‡¥™‡µç‡¥∞‡µã‡¥ó‡µç‡¥∞‡¥∏‡µç ‡¥Ö‡¥™‡µç‡¥°‡µá‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥π‡¥æ‡µª‡¥°‡µç‡¥≤‡¥±‡¥ø‡¥≤‡µÇ‡¥ü‡µÜ ‡¥≤‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç)
result = await session.call_tool("process_large_file", {"file_path": "/data/large.csv"})
```
  
---

## 2. ‡¥±‡¥ø‡¥ï‡µç‡¥µ‡¥∏‡µç‡¥±‡µç‡¥±‡µç ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ

‡¥®‡¥ø‡¥≤‡¥µ‡¥ø‡¥≤‡¥ø‡¥≤‡µç‡¥≤‡¥æ‡¥§‡µç‡¥§ ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥Ö‡¥ß‡¥ø‡¥ï‡¥∏‡¥Æ‡¥Ø‡¥Ç ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥±‡¥ø‡¥ï‡µç‡¥µ‡¥∏‡µç‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡µÅ‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡¥æ‡¥µ‡µÅ‡¥Ç.

### ‡¥™‡µà‡¥§‡µç‡¥§‡µ∫ ‡¥®‡¥ü‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```python
from mcp.server import Server
from mcp.types import CancelledError
import asyncio

app = Server("cancellable-server")

@app.tool()
async def long_running_search(query: str, ctx) -> str:
    """Search that can be cancelled."""
    
    results = []
    
    try:
        for page in range(100):  # ‡¥™‡¥≤ ‡¥™‡µá‡¥ú‡µÅ‡¥ï‡¥≥‡¥ø‡¥≤‡µÇ‡¥ü‡µÜ ‡¥§‡¥ø‡¥∞‡¥Ø‡µÅ‡¥ï
            # ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ ‡¥Ö‡¥≠‡µç‡¥Ø‡µº‡¥§‡µç‡¥•‡¥® ‡¥®‡¥ü‡¥®‡µç‡¥®‡¥ø‡¥ü‡µç‡¥ü‡µÅ‡¥£‡µç‡¥ü‡µã ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
            if ctx.is_cancelled:
                raise CancelledError("Search cancelled by user")
            
            # ‡¥™‡µá‡¥ú‡µç ‡¥§‡¥ø‡¥∞‡¥Ø‡µΩ ‡¥∏‡¥ø‡¥Æ‡µÅ‡¥≤‡µá‡¥±‡µç‡¥±‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
            page_results = await search_page(query, page)
            results.extend(page_results)
            
            # ‡¥ö‡µÜ‡¥±‡¥ø‡¥Ø ‡¥µ‡µà‡¥ï‡¥ø‡¥™‡µç‡¥™‡µç ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥®‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥Ö‡¥®‡µÅ‡¥µ‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ
            await asyncio.sleep(0.1)
            
    except CancelledError:
        # ‡¥≠‡¥æ‡¥ó‡¥ø‡¥ï ‡¥´‡¥≤‡¥ô‡µç‡¥ô‡µæ ‡¥§‡¥ø‡¥∞‡¥ø‡¥ï‡µÜ ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï
        return f"Cancelled. Found {len(results)} results before cancellation."
    
    return f"Found {len(results)} total results"

@app.tool()
async def download_file(url: str, ctx) -> str:
    """Download with cancellation support."""
    
    async with aiohttp.ClientSession() as session:
        async with session.get(url) as response:
            total_size = int(response.headers.get('content-length', 0))
            downloaded = 0
            chunks = []
            
            async for chunk in response.content.iter_chunked(8192):
                if ctx.is_cancelled:
                    return f"Download cancelled at {downloaded}/{total_size} bytes"
                
                chunks.append(chunk)
                downloaded += len(chunk)
            
            return f"Downloaded {downloaded} bytes"
```
  
### ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ ‡¥ï‡µã‡µ∫‡¥ü‡µÜ‡¥ï‡µç‡¥∏‡µç‡¥±‡µç‡¥±‡µç ‡¥®‡¥ü‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```python
class CancellableContext:
    """Context object that tracks cancellation state."""
    
    def __init__(self, request_id: str):
        self.request_id = request_id
        self._cancelled = asyncio.Event()
        self._cancel_reason = None
    
    @property
    def is_cancelled(self) -> bool:
        return self._cancelled.is_set()
    
    def cancel(self, reason: str = "Cancelled"):
        self._cancel_reason = reason
        self._cancelled.set()
    
    async def check_cancelled(self):
        """Raise if cancelled, otherwise continue."""
        if self.is_cancelled:
            raise CancelledError(self._cancel_reason)
    
    async def sleep_or_cancel(self, seconds: float):
        """Sleep that can be interrupted by cancellation."""
        try:
            await asyncio.wait_for(
                self._cancelled.wait(),
                timeout=seconds
            )
            raise CancelledError(self._cancel_reason)
        except asyncio.TimeoutError:
            pass  # ‡¥∏‡¥æ‡¥ß‡¥æ‡¥∞‡¥£ ‡¥∏‡¥Æ‡¥Ø‡¥™‡¥∞‡¥ø‡¥ß‡¥ø, ‡¥§‡µÅ‡¥ü‡¥∞‡µÅ‡¥ï
```
  
### ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡µç-‡¥™‡¥æ‡µº‡¥∂‡µç‡¥µ ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```python
import asyncio

async def search_with_timeout(session, query, timeout=30):
    """Search with automatic cancellation on timeout."""
    
    task = asyncio.create_task(
        session.call_tool("long_running_search", {"query": query})
    )
    
    try:
        result = await asyncio.wait_for(task, timeout=timeout)
        return result
    except asyncio.TimeoutError:
        # ‡¥Ö‡¥≠‡µç‡¥Ø‡µº‡¥§‡µç‡¥•‡¥® ‡¥±‡¥¶‡µç‡¥¶‡¥æ‡¥ï‡µç‡¥ï‡µΩ
        await session.send_notification({
            "method": "notifications/cancelled",
            "params": {"requestId": task.request_id, "reason": "Timeout"}
        })
        return "Search timed out"
```
  
---

## 3. ‡¥±‡¥ø‡¥∏‡µã‡¥¥‡µç‚Äå‡¥∏‡µç ‡¥ü‡µÜ‡¥Ç‡¥™‡µç‡¥≤‡µá‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ

‡¥±‡¥ø‡¥∏‡µã‡¥¥‡µç‚Äå‡¥∏‡µç ‡¥ü‡µÜ‡¥Ç‡¥™‡µç‡¥≤‡µá‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥™‡¥æ‡¥∞‡¥æ‡¥Æ‡µÄ‡¥±‡µç‡¥±‡¥±‡µÅ‡¥ï‡¥≥‡µã‡¥ü‡µÜ ‡¥°‡µà‡¥®‡¥æ‡¥Æ‡¥ø‡¥ï‡µç URI ‡¥®‡¥ø‡µº‡¥Æ‡µç‡¥Æ‡¥æ‡¥£‡¥Ç ‡¥Ö‡¥®‡µÅ‡¥µ‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ, API‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ‡¥°‡µá‡¥±‡µç‡¥±‡¥æ‡¥¨‡µá‡¥∏‡µÅ‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥™‡µç‡¥∞‡¥¶‡¥Æ‡¥æ‡¥£‡µç.

### ‡¥ü‡µÜ‡¥Ç‡¥™‡µç‡¥≤‡µá‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥®‡¥ø‡µº‡¥µ‡¥ö‡¥ø‡¥ï‡µç‡¥ï‡µΩ

```python
from mcp.server import Server
from mcp.types import ResourceTemplate

app = Server("template-server")

@app.list_resource_templates()
async def list_templates() -> list[ResourceTemplate]:
    """Return available resource templates."""
    return [
        ResourceTemplate(
            uriTemplate="db://users/{user_id}",
            name="User Profile",
            description="Fetch user profile by ID",
            mimeType="application/json"
        ),
        ResourceTemplate(
            uriTemplate="api://weather/{city}/{date}",
            name="Weather Data",
            description="Historical weather for city and date",
            mimeType="application/json"
        ),
        ResourceTemplate(
            uriTemplate="file://{path}",
            name="File Content",
            description="Read file at given path",
            mimeType="text/plain"
        )
    ]

@app.read_resource()
async def read_resource(uri: str) -> str:
    """Read resource, expanding template parameters."""
    
    # ‡¥™‡µã‡¥∞‡¥æ‡¥Æ‡µÄ‡¥±‡µç‡¥±‡¥±‡µÅ‡¥ï‡µæ ‡¥é‡¥ü‡µÅ‡¥§‡µç‡¥§‡µç ÿßÿÆ‡¥∞‡µç‚Äç‡¥®‡µç‡¥®‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡¥æ‡¥®‡µç‚Äç URI ‡¥µ‡¥ø‡¥∂‡¥ï‡¥≤‡¥®‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
    if uri.startswith("db://users/"):
        user_id = uri.split("/")[-1]
        return await fetch_user(user_id)
    
    elif uri.startswith("api://weather/"):
        parts = uri.replace("api://weather/", "").split("/")
        city, date = parts[0], parts[1]
        return await fetch_weather(city, date)
    
    elif uri.startswith("file://"):
        path = uri.replace("file://", "")
        return await read_file(path)
    
    raise ValueError(f"Unknown resource URI: {uri}")
```
  
### ‡¥ü‡µà‡¥™‡µç‡¥™‡µç‡¥∏‡µç‡¥ï‡µç‡¥∞‡¥ø‡¥™‡µç‡¥±‡µç‡¥±‡µç ‡¥®‡¥ü‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```typescript
server.setRequestHandler(ListResourceTemplatesSchema, async () => {
  return {
    resourceTemplates: [
      {
        uriTemplate: "github://repos/{owner}/{repo}/issues/{issue_number}",
        name: "GitHub Issue",
        description: "Fetch a specific GitHub issue",
        mimeType: "application/json"
      },
      {
        uriTemplate: "db://tables/{table}/rows/{id}",
        name: "Database Row",
        description: "Fetch a row from a database table",
        mimeType: "application/json"
      }
    ]
  };
});

server.setRequestHandler(ReadResourceSchema, async (request) => {
  const uri = request.params.uri;
  
  // GitHub ‡¥™‡µç‡¥∞‡¥∂‡µç‡¥® URI ‡¥™‡µä‡¥∞‡µÅ‡¥§‡µç‡¥§‡¥Æ‡µÅ‡¥≥‡µç‡¥≥‡¥µ‡¥æ‡¥ï‡µç‡¥ï‡¥ø ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡µÅ‡¥ï
  const githubMatch = uri.match(/^github:\/\/repos\/([^/]+)\/([^/]+)\/issues\/(\d+)$/);
  if (githubMatch) {
    const [_, owner, repo, issueNumber] = githubMatch;
    const issue = await fetchGitHubIssue(owner, repo, parseInt(issueNumber));
    return {
      contents: [{
        uri,
        mimeType: "application/json",
        text: JSON.stringify(issue, null, 2)
      }]
    };
  }
  
  throw new Error(`Unknown resource URI: ${uri}`);
});
```
  
---

## 4. ‡¥∏‡µÜ‡µº‡¥µ‡µº ‡¥≤‡µà‡¥´‡µç‚Äå‡¥∏‡µà‡¥ï‡¥ø‡µæ ‡¥á‡¥µ‡¥®‡µç‡¥±‡µÅ‡¥ï‡µæ

‡¥∞‡µÇ‡¥™‡¥æ‡¥ß‡¥æ‡¥∞‡¥£‡¥Æ‡¥æ‡¥Ø ‡¥§‡µÅ‡¥ü‡¥ï‡µç‡¥ï‡¥Ç, ‡¥Ö‡¥µ‡¥∏‡¥æ‡¥®‡¥ï‡¥æ‡¥≤ ‡¥®‡¥ø‡¥Ø‡¥®‡µç‡¥§‡µç‡¥∞‡¥£‡¥Ç ‡¥â‡¥±‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥ï, ‡¥∂‡µÅ‡¥ö‡¥ø‡¥§‡µç‡¥µ‡¥Æ‡¥æ‡¥Ø ‡¥µ‡¥ø‡¥≠‡¥µ‡¥ô‡µç‡¥ô‡µæ ‡¥Æ‡¥æ‡¥®‡µá‡¥ú‡µç‡¥Æ‡µÜ‡¥®‡µç‡¥±‡µç ‡¥∏‡¥æ‡¥ß‡µç‡¥Ø‡¥Æ‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ.

### ‡¥™‡µà‡¥§‡µç‡¥§‡µ∫ ‡¥≤‡µà‡¥´‡µç‚Äå‡¥∏‡µà‡¥ï‡¥ø‡µæ ‡¥Æ‡¥æ‡¥®‡µá‡¥ú‡µç‡¥Æ‡µÜ‡¥®‡µç‡¥±‡µç

```python
from mcp.server import Server
from contextlib import asynccontextmanager

app = Server("lifecycle-server")

# ‡¥™‡¥ô‡µç‡¥ï‡µÅ‡¥µ‡µÜ‡¥ö‡µç‡¥ö ‡¥∏‡µç‡¥•‡¥ø‡¥§‡¥ø
db_connection = None
cache = None

@asynccontextmanager
async def lifespan(server: Server):
    """Manage server lifecycle."""
    global db_connection, cache
    
    # ‡¥§‡µÅ‡¥ü‡¥ï‡µç‡¥ï‡¥Ç
    print("üöÄ Server starting...")
    db_connection = await create_database_connection()
    cache = await create_cache_client()
    print("‚úÖ Resources initialized")
    
    yield  # ‡¥∏‡µº‡¥µ‡µº ‡¥á‡¥µ‡¥ø‡¥ü‡µÜ ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ
    
    # ‡¥∂‡¥ü‡µç‡¥ü‡µç‚Äå‡¥°‡µó‡µ∫
    print("üõë Server shutting down...")
    await db_connection.close()
    await cache.close()
    print("‚úÖ Resources cleaned up")

app = Server("lifecycle-server", lifespan=lifespan)

@app.tool()
async def query_database(sql: str) -> str:
    """Use the shared database connection."""
    result = await db_connection.execute(sql)
    return str(result)
```
  
### ‡¥ü‡µà‡¥™‡µç‡¥™‡µç‡¥∏‡µç‡¥ï‡µç‡¥∞‡¥ø‡¥™‡µç‡¥±‡µç‡¥±‡µç ‡¥≤‡µà‡¥´‡µç‚Äå‡¥∏‡µà‡¥ï‡¥ø‡µæ

```typescript
import { Server } from "@modelcontextprotocol/sdk/server/index.js";

class ManagedServer {
  private server: Server;
  private dbConnection: DatabaseConnection | null = null;
  
  constructor() {
    this.server = new Server({
      name: "lifecycle-server",
      version: "1.0.0"
    });
    
    this.setupHandlers();
  }
  
  async start() {
    // ‡¥∏‡µç‡¥∞‡µã‡¥§‡¥∏‡µç‡¥∏‡µÅ‡¥ï‡¥≥‡µç‚Äç ‡¥Ü‡¥∞‡¥Ç‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
    console.log("üöÄ Server starting...");
    this.dbConnection = await createDatabaseConnection();
    console.log("‚úÖ Database connected");
    
    // ‡¥∏‡µÜ‡¥∞‡µç‚Äç‡¥µ‡¥∞‡µç‚Äç ‡¥Ü‡¥∞‡¥Ç‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
    await this.server.connect(transport);
  }
  
  async stop() {
    // ‡¥∏‡µç‡¥∞‡µã‡¥§‡¥∏‡µç‡¥∏‡µÅ‡¥ï‡¥≥‡µç‚Äç ‡¥∂‡µÅ‡¥ö‡µÄ‡¥ï‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
    console.log("üõë Server shutting down...");
    if (this.dbConnection) {
      await this.dbConnection.close();
    }
    await this.server.close();
    console.log("‚úÖ Cleanup complete");
  }
  
  private setupHandlers() {
    this.server.setRequestHandler(CallToolSchema, async (request) => {
      // ‡¥à.this.dbConnection ‡¥∏‡µÅ‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥§‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
      // ...
    });
  }
}

// ‡¥∏‡¥æ‡¥®‡µç‡¥¶‡µç‡¥∞‡¥Æ‡¥æ‡¥Ø ‡¥∑‡¥ü‡µç‡¥ü‡µç ‡¥°‡µó‡¥£‡µÅ‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
const server = new ManagedServer();

process.on('SIGINT', async () => {
  await server.stop();
  process.exit(0);
});

await server.start();
```
  
---

## 5. ‡¥≤‡µã‡¥ó‡¥ø‡¥Ç‡¥ó‡µç ‡¥®‡¥ø‡¥Ø‡¥®‡µç‡¥§‡µç‡¥∞‡¥£‡¥Ç

MCP ‡¥∏‡µÜ‡µº‡¥µ‡µº-‡¥™‡¥æ‡µº‡¥∂‡µç‡¥µ ‡¥≤‡µã‡¥ó‡¥ø‡¥Ç‡¥ó‡µç ‡¥≤‡µÜ‡¥µ‡¥≤‡µÅ‡¥ï‡µæ ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥®‡¥ø‡¥Ø‡¥®‡µç‡¥§‡µç‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥∏‡¥π‡¥æ‡¥Ø‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ.

### ‡¥≤‡µã‡¥ó‡¥ø‡¥Ç‡¥ó‡µç ‡¥≤‡µÜ‡¥µ‡¥≤‡µÅ‡¥ï‡µæ ‡¥®‡¥ü‡¥™‡µç‡¥™‡¥æ‡¥ï‡µç‡¥ï‡µΩ

```python
from mcp.server import Server
from mcp.types import LoggingLevel
import logging

app = Server("logging-server")

# MCP ‡¥®‡¥ø‡¥≤‡¥ï‡¥≥‡µÜ Python ‡¥≤‡µã‡¥ó‡¥ø‡¥Ç‡¥ó‡µç ‡¥®‡¥ø‡¥≤‡¥ï‡¥≥‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥Æ‡¥æ‡¥™‡µç‡¥™‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
LEVEL_MAP = {
    LoggingLevel.DEBUG: logging.DEBUG,
    LoggingLevel.INFO: logging.INFO,
    LoggingLevel.WARNING: logging.WARNING,
    LoggingLevel.ERROR: logging.ERROR,
}

logger = logging.getLogger("mcp-server")

@app.set_logging_level()
async def set_logging_level(level: LoggingLevel) -> None:
    """Handle client request to change logging level."""
    python_level = LEVEL_MAP.get(level, logging.INFO)
    logger.setLevel(python_level)
    logger.info(f"Logging level set to {level}")

@app.tool()
async def debug_operation(data: str) -> str:
    """Tool with various logging levels."""
    logger.debug(f"Processing data: {data}")
    
    try:
        result = process(data)
        logger.info(f"Successfully processed: {result}")
        return result
    except Exception as e:
        logger.error(f"Processing failed: {e}")
        raise
```
  
### ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥≤‡µã‡¥ó‡µç ‡¥∏‡¥®‡µç‡¥¶‡µá‡¥∂‡¥ô‡µç‡¥ô‡µæ ‡¥Ö‡¥Ø‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µΩ

```python
@app.tool()
async def complex_operation(input: str, ctx) -> str:
    """Operation that logs to client."""
    
    # ‡¥ï‡µç‡¥≤‡¥Ø‡¥®‡µç‡¥±‡¥ø‡¥®‡µç ‡¥≤‡µã‡¥ó‡µç ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥ø‡¥™‡µç‡¥™‡µç ‡¥Ö‡¥Ø‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µÅ‡¥ï
    await ctx.send_log(
        level="info",
        message=f"Starting complex operation with input: {input}"
    )
    
    # ‡¥ú‡µã‡¥≤‡¥ø ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï...
    result = await do_work(input)
    
    await ctx.send_log(
        level="debug",
        message=f"Operation complete, result size: {len(result)}"
    )
    
    return result
```
  
---

## 6. ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥ï‡µà‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥≤‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥Æ‡¥æ‡¥§‡µÉ‡¥ï‡¥ï‡µæ

‡¥∏‡µÅ‡¥∏‡µç‡¥•‡¥ø‡¥∞‡¥Æ‡¥æ‡¥Ø ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥ï‡µà‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µΩ ‡¥Æ‡µÜ‡¥ö‡µç‡¥ö‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü ‡¥°‡µÄ‡¥¨‡¥ó‡µç‡¥ó‡¥ø‡¥Ç‡¥ó‡¥ø‡¥®‡µç‡¥±‡µÜ‡¥Ø‡µÅ‡¥Ç ‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡µÉ ‡¥Ö‡¥®‡µÅ‡¥≠‡¥µ‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ‡¥Ø‡µÅ‡¥Ç ‡¥â‡¥±‡¥™‡µç‡¥™‡¥æ‡¥£‡µç.

### MCP ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥ï‡µã‡¥°‡µÅ‡¥ï‡µæ

```python
from mcp.types import McpError, ErrorCode

class ToolError(McpError):
    """Base class for tool errors."""
    pass

class ValidationError(ToolError):
    """Invalid input parameters."""
    def __init__(self, message: str):
        super().__init__(ErrorCode.INVALID_PARAMS, message)

class NotFoundError(ToolError):
    """Requested resource not found."""
    def __init__(self, resource: str):
        super().__init__(ErrorCode.INVALID_REQUEST, f"Not found: {resource}")

class PermissionError(ToolError):
    """Access denied."""
    def __init__(self, action: str):
        super().__init__(ErrorCode.INVALID_REQUEST, f"Permission denied: {action}")

class InternalError(ToolError):
    """Internal server error."""
    def __init__(self, message: str):
        super().__init__(ErrorCode.INTERNAL_ERROR, message)
```
  
### ‡¥ò‡¥ü‡¥ø‡¥§ ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥™‡µç‡¥∞‡¥§‡¥ø‡¥ï‡¥∞‡¥£‡¥ô‡µç‡¥ô‡µæ

```python
@app.tool()
async def safe_operation(input: str) -> str:
    """Tool with comprehensive error handling."""
    
    # ‡¥á‡µª‡¥™‡µÅ‡¥ü‡µç‡¥ü‡µç ‡¥∂‡¥∞‡¥ø‡¥Ø‡¥æ‡¥£‡µã ‡¥é‡¥®‡µç‡¥®‡µç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
    if not input:
        raise ValidationError("Input cannot be empty")
    
    if len(input) > 10000:
        raise ValidationError(f"Input too large: {len(input)} chars (max 10000)")
    
    try:
        # ‡¥Ö‡¥®‡µÅ‡¥Æ‡¥§‡¥ø‡¥ï‡µæ ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï
        if not await check_permission(input):
            raise PermissionError(f"read {input}")
        
        # ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥Ç ‡¥®‡¥ü‡¥§‡µç‡¥§‡µÅ‡¥ï
        result = await perform_operation(input)
        
        if result is None:
            raise NotFoundError(input)
        
        return result
        
    except ConnectionError as e:
        raise InternalError(f"Database connection failed: {e}")
    except TimeoutError as e:
        raise InternalError(f"Operation timed out: {e}")
    except Exception as e:
        # ÏòàÏÉÅ‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥§‡µÜ ‡¥∏‡¥Ç‡¥≠‡¥µ‡¥ø‡¥ö‡µç‡¥ö ‡¥™‡¥ø‡¥∂‡¥ï‡µÅ‡¥ï‡µæ ‡¥≤‡µã‡¥ó‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
        logger.exception(f"Unexpected error in safe_operation")
        raise InternalError(f"Unexpected error: {type(e).__name__}")
```
  
### ‡¥ü‡µà‡¥™‡µç‡¥™‡µç‡¥∏‡µç‡¥ï‡µç‡¥∞‡¥ø‡¥™‡µç‡¥±‡µç‡¥±‡¥ø‡¥≤‡µÜ ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥ï‡µà‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µΩ

```typescript
import { McpError, ErrorCode } from "@modelcontextprotocol/sdk/types.js";

function validateInput(data: unknown): asserts data is ValidInput {
  if (typeof data !== "object" || data === null) {
    throw new McpError(
      ErrorCode.InvalidParams,
      "Input must be an object"
    );
  }
  // ‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡µΩ ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥®...
}

server.setRequestHandler(CallToolSchema, async (request) => {
  try {
    validateInput(request.params.arguments);
    
    const result = await performOperation(request.params.arguments);
    
    return {
      content: [{ type: "text", text: JSON.stringify(result) }]
    };
    
  } catch (error) {
    if (error instanceof McpError) {
      throw error;  // ‡¥á‡¥§‡¥ø‡¥®‡¥ï‡¥Ç MCP ‡¥™‡¥ø‡¥∂‡¥ï‡µç
    }
    
    // ‡¥Æ‡¥±‡µç‡¥±‡µç ‡¥™‡¥ø‡¥∂‡¥ï‡µÅ‡¥ï‡µæ ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ø ‡¥é‡¥¥‡µÅ‡¥§‡µÅ‡¥ï
    if (error instanceof NotFoundError) {
      throw new McpError(ErrorCode.InvalidRequest, error.message);
    }
    
    // ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡¥æ‡¥§‡µç‡¥§ ‡¥™‡¥ø‡¥∂‡¥ï‡µç
    console.error("Unexpected error:", error);
    throw new McpError(
      ErrorCode.InternalError,
      "An unexpected error occurred"
    );
  }
});
```
  
---

## ‡¥™‡¥∞‡µÄ‡¥ï‡µç‡¥∑‡¥£‡¥™‡¥∞‡¥Æ‡¥æ‡¥Ø ‡¥´‡µÄ‡¥ö‡µç‡¥ö‡¥±‡µÅ‡¥ï‡µæ (MCP 2025-11-25)

‡¥∏‡µç‡¥™‡µÜ‡¥∏‡¥ø‡¥´‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡¥®‡¥ø‡µΩ ‡¥™‡¥∞‡µÄ‡¥ï‡µç‡¥∑‡¥£ ‡¥ò‡¥ü‡¥ï‡¥Æ‡¥æ‡¥Ø‡¥æ‡¥Ø‡¥ø ‡¥Ö‡¥ü‡¥Ø‡¥æ‡¥≥‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥ø‡¥Ø ‡¥´‡µÄ‡¥ö‡µç‡¥ö‡¥±‡µÅ‡¥ï‡µæ:

### ‡¥ü‡¥æ‡¥∏‡µç‡¥ï‡µÅ‡¥ï‡µæ (‡¥¶‡µÄ‡µº‡¥ò‡¥®‡µá‡¥∞‡¥Ç ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥ô‡µç‡¥ô‡µæ)

```python
# ‡¥∏‡µç‡¥±‡µç‡¥±‡µá‡¥±‡µç‡¥±‡µç ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥¶‡µà‡µº‡¥ò‡µç‡¥Ø‡¥Æ‡µÅ‡¥≥‡µç‡¥≥ ‡¥ì‡¥™‡µç‡¥™‡¥±‡µá‡¥∑‡¥®‡µÅ‡¥ï‡µæ ‡¥ü‡µç‡¥∞‡¥æ‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥æ‡µª ‡¥ü‡¥æ‡¥∏‡µç‡¥ï‡µÅ‡¥ï‡µæ ‡¥Ö‡¥®‡µÅ‡¥µ‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ
@app.task()
async def training_task(model_id: str, data_path: str, ctx) -> str:
    """Long-running ML training task."""
    
    # ‡¥ü‡¥æ‡¥∏‡µç‚Äå‡¥ï‡µç ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡¥ø‡¥Ø‡¥§‡¥æ‡¥Ø‡¥ø ‡¥±‡¥ø‡¥™‡µç‡¥™‡µã‡µº‡¥ü‡µç‡¥ü‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
    await ctx.report_status("running", "Initializing training...")
    
    # ‡¥™‡¥∞‡¥ø‡¥∂‡µÄ‡¥≤‡¥® ‡¥≤‡µÇ‡¥™‡µç‡¥™‡µç
    for epoch in range(100):
        await train_epoch(model_id, data_path, epoch)
        await ctx.report_status(
            "running",
            f"Training epoch {epoch + 1}/100",
            progress=epoch + 1,
            total=100
        )
    
    await ctx.report_status("completed", "Training finished")
    return f"Model {model_id} trained successfully"
```
  
### ‡¥ü‡µÇ‡µæ ‡¥Ö‡¥®‡µã‡¥ü‡µç‡¥ü‡µá‡¥∑‡¥®‡µÅ‡¥ï‡µæ

```python
# ‡¥â‡¥™‡¥ï‡¥∞‡¥£‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥™‡µÜ‡¥∞‡µÅ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥§‡µç‡¥§‡µÜ‡¥ï‡µç‡¥ï‡µÅ‡¥±‡¥ø‡¥ö‡µç‡¥ö‡µÅ‡¥≥‡µç‡¥≥ ‡¥Æ‡µÜ‡¥±‡µç‡¥±‡¥æ‡¥°‡¥æ‡¥±‡µç‡¥± ‡¥®‡µΩ‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ
@app.tool(
    annotations={
        "destructive": False,      # ‡¥°‡¥æ‡¥±‡µç‡¥± ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥®‡µç‡¥®‡¥§‡µç ‡¥Ö‡¥≤‡µç‡¥≤
        "idempotent": True,        # ‡¥™‡µÅ‡¥®‡¥∞‡¥æ‡¥≤‡µã‡¥ö‡¥®‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µç ‡¥∏‡µÅ‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥§‡¥Ç
        "timeout_seconds": 30,     # ‡¥™‡µç‡¥∞‡¥§‡µÄ‡¥ï‡µç‡¥∑‡¥ø‡¥ö‡µç‡¥ö ‡¥è‡¥±‡µç‡¥±‡¥µ‡µÅ‡¥Ç ‡¥â‡¥Ø‡µº‡¥®‡µç‡¥® ‡¥¶‡µà‡µº‡¥ò‡µç‡¥Ø‡¥Ç
        "requires_approval": False # ‡¥â‡¥™‡¥Ø‡µã‡¥ï‡µç‡¥§‡µÉ ‡¥Ö‡¥Ç‡¥ó‡µÄ‡¥ï‡¥æ‡¥∞‡¥Ç ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥Æ‡¥ø‡¥≤‡µç‡¥≤
    }
)
async def safe_query(query: str) -> str:
    """A read-only database query tool."""
    return await execute_read_query(query)
```
  
---

## ‡¥™‡¥ø‡¥®‡µç‡¥®‡µÄ‡¥ü‡µç ‡¥é‡¥®‡µç‡¥§‡µÜ‡¥≤‡µç‡¥≤‡¥æ‡¥Ç

- [Module 8 - Best Practices](../../08-BestPractices/README.md)  
- [5.14 - Context Engineering](../mcp-contextengineering/README.md)  
- [MCP Specification Changelog](https://spec.modelcontextprotocol.io/)  

---

## ‡¥Ö‡¥ß‡¥ø‡¥ï ‡¥µ‡¥ø‡¥≠‡¥µ‡¥ô‡µç‡¥ô‡µæ

- [MCP Specification 2025-11-25](https://spec.modelcontextprotocol.io/specification/2025-11-25/)  
- [JSON-RPC 2.0 Error Codes](https://www.jsonrpc.org/specification#error_object)  
- [Python SDK Examples](https://github.com/modelcontextprotocol/python-sdk/tree/main/examples)  
- [TypeScript SDK Examples](https://github.com/modelcontextprotocol/typescript-sdk/tree/main/examples)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**‡¥Ö‡¥∏‡¥æ‡¥ß‡µÅ‡¥ö‡¥ø‡¥®‡µç‡¥§‡¥®‡¥Ç**:  
‡¥à ‡¥™‡µç‡¥∞‡¥Æ‡¥æ‡¥£‡¥Ç AI ‡¥µ‡¥ø‡¥µ‡µº‡¥§‡µç‡¥§‡¥® ‡¥∏‡µá‡¥µ‡¥®‡¥Æ‡¥æ‡¥Ø [Co-op Translator](https://github.com/Azure/co-op-translator) ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥µ‡¥ø‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡¥§‡¥æ‡¥£‡µç. ‡¥®‡¥ø‡¥ó‡¥Æ‡¥®‡¥ï‡µç‡¥∑‡¥Æ‡¥§‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µç ‡¥®‡¥æ‡¥Ç ‡¥∂‡µç‡¥∞‡¥Æ‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ‡¥µ‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡¥≤‡µÅ‡¥Ç, ‡¥∏‡µç‡¥µ‡¥Ø‡¥Æ‡¥æ‡¥±‡µç‡¥± ‡¥µ‡¥ø‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥ô‡µç‡¥ô‡¥≥‡¥ø‡µΩ ‡¥§‡µÜ‡¥±‡µç‡¥±‡µÅ‡¥ï‡µæ ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥Ö‡¥ö‡µç‡¥ö‡¥ü‡¥ï‡µç‡¥ï‡¥≠‡µá‡¥¶‡¥ô‡µç‡¥ô‡µæ ‡¥â‡¥£‡µç‡¥ü‡¥æ‡¥ï‡¥æ‡¥Æ‡µÜ‡¥®‡µç‡¥® ‡¥ï‡¥æ‡¥∞‡µç‡¥Ø‡¥Ç ‡¥∂‡µç‡¥∞‡¥¶‡µç‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï. ‡¥Ö‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥Æ‡¥æ‡¥§‡µÉ‡¥≠‡¥æ‡¥∑‡¥Ø‡¥æ‡¥Ø ‡™Æ‡´Ç‡™≥ ‡¥™‡µç‡¥∞‡¥Æ‡¥æ‡¥£‡¥Ç ‡¥∏‡¥§‡µç‡¥Ø‡¥∏‡¥®‡µç‡¥ß‡¥Æ‡¥æ‡¥Ø ‡¥â‡¥±‡¥µ‡¥ø‡¥ü‡¥Æ‡¥æ‡¥£‡µç ‡¥é‡¥®‡µç‡¥®‡µç ‡¥™‡¥∞‡¥ø‡¥ó‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥£‡µç‡¥ü‡¥§‡¥æ‡¥£‡µç. ‡¥®‡¥ø‡µº‡¥£‡¥æ‡¥Ø‡¥ï ‡¥µ‡¥ø‡¥µ‡¥∞‡¥Ç‡¥ï‡µç‡¥ï‡¥æ‡¥Ø‡¥ø, ‡¥™‡µç‡¥∞‡µä‡¥´‡¥∑‡¥£‡µΩ ‡¥Æ‡¥æ‡¥®‡¥µ ‡¥µ‡¥ø‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥Ç ‡¥®‡¥ø‡¥µ‡µá‡¥¶‡¥®‡¥Æ‡¥æ‡¥£‡µç. ‡¥à ‡¥µ‡¥ø‡¥µ‡µº‡¥§‡µç‡¥§‡¥®‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥®‡¥ø‡¥®‡µç‡¥®‡µÅ‡¥£‡µç‡¥ü‡¥æ‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥è‡¥§‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡¥≤‡µÅ‡¥Ç ‡¥§‡µº‡¥ï‡µç‡¥ï‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ‡¥§‡µÜ‡¥±‡µç‡¥±‡µÅ‡¥™‡¥±‡¥Ø‡¥≤‡µÅ‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ‡¥®‡¥æ‡¥Ç ‡¥â‡¥§‡µç‡¥§‡¥∞‡¥µ‡¥æ‡¥¶‡¥ø‡¥ï‡¥≥‡¥≤‡µç‡¥≤.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->