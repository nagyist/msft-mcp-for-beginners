# வழக்கறிஞர் ஆய்வு: REST API ஐ API மேலாண்மையில் MCP சர்வராக வெளியிடுதல்

Azure API Management என்பது உங்கள் API இறுதிச் சுடுகள் மீது ஒரு கதவு வழங்கும் சேவையாகும். இது எப்படி வேலை செய்கிறது என்றால் Azure API Management உங்கள் API களுக்கு முன் ஒரு பிரதிநிதியாகச் செயல்பட்டு, வரும் கோரிக்கைகளுடன் என்ன செய்ய வேண்டும் என்பதில் முடிவு எடுக்கிறது.

இதனை பயன்படுத்துவதன் மூலம், நீங்கள் பல அம்சங்களை சேர்க்கலாம்:

- **பாதுகாப்பு**, API விசைகள், JWT முதல் நிர்வகிக்கப்பட்ட அடையாளத்துக்கு வரை அனைத்தையும் பயன்படுத்தலாம்.
- **அளவுகோல் வரம்பு**, ஒரு சிறந்த அம்சம் என்பது சில நேர அருவளவுக்குள் எத்தனை அழைப்புகள் வழியாகப் பெற வேண்டும் என்ற தீர்மானத்தை எடுக்க இயலும். இது அனைத்து பயனர்களுக்கும் சிறந்த அனுபவத்தை உறுதி செய்ய உதவுகிறது மற்றும் உங்கள் சேவை கோரிக்கைகளால் மிகைப்படாமல் இருக்கின்றது.
- **தர மதிப்பீடு மற்றும் சுமை சமநிலை**. நீங்கள் சுமையை சமநிலையாக்க காரணியாக பல இறுதிச் சுடுகாடுகளை அமைக்கலாம் மற்றும் "சுமை சமநிலை" எப்படி அமைக்க வேண்டும் என்பதையும் தீர்மானிக்க முடியும்.
- **அறிவியல் அம்சங்கள் போன்ற பொருள் தொடர்பான கேச்சிங்**, டோக்கன் வரம்பு மற்றும் டோக்கன் கண்காணிப்பு மற்றும் மேலும் பல. இவை சிறந்த பதிலளிக்கையை மேம்படுத்தும் மற்றும் உங்கள் டோக்கன் செலவுகளை கண்காணிக்க உதவும். [இதை மேலும் படிக்கவும்](https://learn.microsoft.com/en-us/azure/api-management/genai-gateway-capabilities).

## ஏன் MCP + Azure API Management?

அட்டவணை அமைப்பு நிறுவனம் விரைவாக தற்காலிக AI பயன்பாடுகளுக்கான தரமாக விலைமதிப்பிடப்படுகின்றது மற்றும் ஒரே விதமாக கருவிகள் மற்றும் தரவுகளை வெளியிடுவது எப்படி என்று}. Azure API Management "API களை நிர்வகிக்க" தேவையான போது இயற்கை தேர்வு. MCP சர்வர்கள் பொதுவாக மற்ற API களுடன் ஒருங்கிணைத்து எடுத்துக்காட்டாக ஒரு கருவிக்கு கோரிக்கைகளை தீர்க்கின்றன. ஆகவே Azure API Management மற்றும் MCP ஐ ஒருங்கிணைப்பது மிக பொருத்தமானது.

## மேலோட்டம்

இந்த குறிப்பிட்ட பயன்பாட்டில் நாம் API இறுதிச் சுடுகாடுகளை MCP சர்வராக வெளியிட கற்கப்போகின்றோம். இதன் மூலம், இந்த இறுதிச் சுடுகாடுகளை எளிதாக ஒரு தற்காலிக பயன்பாட்டின் பகுதியாக மாற்றி Azure API Management இன் அம்சங்களையும் பயன்படுத்த முடியும்.

## முக்கிய அம்சங்கள்

- நீங்கள் வெளியிட விரும்பும் இறுதிச் சுடுகாடு முறைகளை தேர்வு செய்யலாம்.
- நீங்கள் அடைந்த கூடுதல் அம்சங்கள் உங்கள் API க்கு கொள்கைகள் பிரிவில் அமைத்ததை பொறுத்தது. ஆனால் இங்கு, அளவுகோல் வரம்பை எவ்வாறு சேர்ப்பது என காட்டு கொடுக்கப்படுகின்றது.

## முன் படி: API ஐ இறக்குமதி செய்தல்

நீங்கள் ஏற்கனவே Azure API Management இல் API இருந்தால் சிறந்தது, அப்பொழுது இந்த படியை தவிர்க்கலாம். இல்லையேல் இக்கண்காணியை பாருங்கள், [Azure API Managementக்கு API ஐ இறக்குமதி செய்தல்](https://learn.microsoft.com/en-us/azure/api-management/import-and-publish#import-and-publish-a-backend-api).

## API ஐ MCP சர்வராக வெளியிடுதல்

API இறுதிச் சுடுகாடுகளை வெளியிட, இந்த படிகளைப் பின்பற்றுங்கள்:

1. Azure போர்டலை சென்று இதை பின்தொடர் <https://portal.azure.com/?Microsoft_Azure_ApiManagement=mcp>  
உங்கள் API மேலாண்மை நிறுவலைத் திறக்கவும்.

1. இடது மெனுவில், APIs > MCP Servers > + புதிய MCP சர்வர் உருவாக்கவும்.

1. API இல், MCP சர்வராக வெளியிட ஒரு REST API ஐ தேர்ந்தெடுக்கவும்.

1. கருவிகளாக வெளியிட ஒரு அல்லது பல API செயல்பாடுகளைத் தேர்ந்தெடுக்கவும். அனைத்து செயல்பாடுகளையும் அல்லது குறிப்பிட்ட செயல்பாடுகளையும் தேர்ந்தெடுக்கலாம்.

    ![பதிவுகள் தேர்வு செய்க](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/create-mcp-server-small.png)

1. **உருவாக்கு** ஐ தேர்ந்தெடுக்கவும்.

1. மெனு விருப்பங்களில் **APIs** மற்றும் **MCP Servers** என்பதற்கு செல்லவும், கீழ்காணும் படத்தைப் பார்க்கலாம்:

    ![MCP Server பிரதான பகுதியிலுள்ளது](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/mcp-server-list.png)

    MCP சர்வர் உருவாக்கப்பட்டுள்ளது மற்றும் API செயல்பாடுகள் கருவிகளாக வெளியிடப்பட்டுள்ளன. MCP சர்வர் MCP Servers பட்டியலில் தோன்றும். URL பத்தியில் MCP சர்வரின் இறுதிச் சுடுகாடு காண்பிக்கப்படுவதை நீங்கள் சோதனை அல்லது கிளையன்ட் பயன்பாட்டில் அழைக்கலாம்.

## விருப்பமாக: கொள்கைகளை அமைக்கவும்

Azure API Management இல் கொள்கைகள் என்ற அடிப்படை கருத்து உள்ளது, இதில் நீங்கள் உங்கள் இறுதிச் சுடுகாடுகளுக்கு விதிகள் அமைக்கலாம், எடுத்துக்காட்டாக அளவுகோல் வரம்பு அல்லது பொருள் தொடர்பான கேச்சிங். இந்த கொள்கைகள் XML வடிவத்தில் எழுதப்படுகின்றன.

MCP சர்வரின் அளவுகோல் வரம்பை அமைக்க எப்படி செய்யலாம்:

1. போர்டலில் APIs கீழ், **MCP Servers** ஐ தேர்ந்தெடுக்கவும்.

1. நீங்கள் உருவாக்கிய MCP சர்வரை தேர்ந்தெடுக்கவும்.

1. இடது மெனுவில் MCP கீழ் **கொள்கைகள்** என்பதைக் கிளிக் செய்யவும்.

1. கொள்கை ஆசிரியரின் திறவில் MCP சர்வரின் கருவிகளுக்கு பொருந்தும் கொள்கைகளை சேர்க்கவும் அல்லது திருத்தவும். கொள்கைகள் XML வடிவத்தில் வரையறுக்கப்பட்டுள்ளன. எடுத்துக்காட்டாக, MCP சர்வரின் கருவிகளுக்கு அழைப்புகளை வரம்பிடும் கொள்கையை இங்கேச் சேர்க்கலாம் (இந்த எடுத்துக்காட்டில், 30 விநாடிகளுக்கு ஒரு கிளையன்ட் IP முகவரிக்கு 5 அழைப்புகள்). இதோ XML:

    ```xml
     <rate-limit-by-key calls="5" 
       renewal-period="30" 
       counter-key="@(context.Request.IpAddress)" 
       remaining-calls-variable-name="remainingCallsPerIP" 
    />
    ```
  
    கொள்கை ஆசிரியரின் படமாக:

    ![கொள்கை ஆசிரியர்](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/mcp-server-policies-small.png)
 
## முயன்று பாருங்கள்

நமது MCP சர்வர் எதிர்பார்த்தபடி வேலை செய்கின்றதா என்பதை உறுதிப்படுத்துவோம்.

இதற்கு, நாம் Visual Studio Code மற்றும் GitHub Copilot மற்றும் அதன் முகவர் முறையைப் பயன்படுத்துவோம். MCP சர்வரை *mcp.json* இல் சேர்ப்போம். இதன் மூலம், Visual Studio Code முகவர் திறன்களுடன் ஒரு கிளையன்டாக செயல்படும் மற்றும் இறுதி பயனர்கள் ஒரு முன்மொழிதலை தட்டச்சு செய்து அந்த சர்வருடன் தொடர்புகொள்ள முடியும்.

Visual Studio Code இல் MCP சர்வரை சேர்ப்பது எப்படி என்பதைப் பார்க்கலாம்:

1. கமாண்ட் பட்டியலில் MCP: **சர்வரைச் சேர்** என்ற கட்டளையைப் பயன்படுத்தவும்.

1. கேட்டால, சர்வர் வகையைத் தேர்வு செய்யவும்: **HTTP (HTTP அல்லது Server Sent Events)**.

1. API Management இல் உள்ள MCP சர்வரின் URL ஐ உள்ளிடவும். எடுத்துக்காட்டு: **https://<apim-service-name>.azure-api.net/<api-name>-mcp/sse** (SSE இறுதிச் சுடுகாடு) அல்லது **https://<apim-service-name>.azure-api.net/<api-name>-mcp/mcp** (MCP இறுதிச் சுடுகாடு), இது போக்குவரத்து தரவுக்கான `/sse` அல்லது `/mcp` என்பதில் வேறுபடுகிறது.

1. உங்கள் விருப்பப்படி சர்வர் அடையாளத்தை உள்ளிடவும். இது முக்கிய மதிப்பாக இல்லாது இருந்தாலும், இந்த சர்வர் உதாரணம் என்ன என்பதை நினைவில் வைத்திருப்பதற்கு உதவும்.

1. கட்டமைப்பை உங்கள் பணிப் பகுதி அமைப்பிற்கோ அல்லது பயனர் அமைப்பிற்கோ சேமிக்க தேர்வு செய்யவும்.

  - **பணிப் பகுதி அமைப்புகள்** - சர்வர் கட்டமைப்பு .vscode/mcp.json கோப்பில் மட்டும் சேமிக்கப்படுகிறது, இது தற்போதைய பணிப் பகுதியிலேயே கிடைக்கும்.

    *mcp.json*

    ```json
    "servers": {
        "APIM petstore" : {
            "type": "sse",
            "url": "url-to-mcp-server/sse"
        }
    }
    ```
  
    அல்லது நீங்கள் HTTP ஸ்ட்ரீமிங் போக்குவரத்தைக் தேர்ந்தெடுத்தால் இது கொஞ்சம் வேறுபடும்:

    ```json
    "servers": {
        "APIM petstore" : {
            "type": "http",
            "url": "url-to-mcp-server/mcp"
        }
    }
    ```
  
  - **பயனர் அமைப்புகள்** - சர்வர் கட்டமைப்பு உங்கள் உலகளாவிய *settings.json* கோப்புக்கு சேர்க்கப்படுகிறது மற்றும் அனைத்து பணிப் பகுதிகளிலும் கிடைக்கும். கட்டமைப்பு கீழ்காணுமாறு இருக்கும்:

    ![பயனர் அமைப்பு](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/mcp-servers-visual-studio-code.png)

1. Azure API Management இடம் நோக்கி சரியாக அங்கீகரிக்கும் ஒரு தலைப்பை சேர்க்கவும். இது **Ocp-Apim-Subscription-Key** என்ற தலைப்பைப் பயன்படுத்துகிறது.

    - அதன்படி, அமைப்புகளில் இதை சேர்க்கலாம்:

    ![அங்கீகாரத்திற்கான தலைப்பு சேர்க்கும் படி](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/mcp-server-with-header-visual-studio-code.png), இது API விசைப் பெறும்போது Azure போர்டல் உங்கள் Azure API Management நிறுவல் இடத்திற்கு காட்டும் API விசையை கேட்கும்.

   - அதற்குப் பதிலாக *mcp.json* க்குள் இதை இவ்வாறு சேர்க்கலாம்:

    ```json
    "inputs": [
      {
        "type": "promptString",
        "id": "apim_key",
        "description": "API Key for Azure API Management",
        "password": true
      }
    ]
    "servers": {
        "APIM petstore" : {
            "type": "http",
            "url": "url-to-mcp-server/mcp",
            "headers": {
                "Ocp-Apim-Subscription-Key": "Bearer ${input:apim_key}"
            }
        }
    }
    ```

### முகவர் முறை பயன்படுத்து

இப்போது நாம் அமைப்புகளைச் சேர்ந்தவையாகவோ அல்லது *.vscode/mcp.json* இல் அமைத்தவையாகவோ இருக்கிறோம். முயன்று பார்ப்போம்.

உங்கள் சர்வரில் வெளியிடப்பட்ட கருவிகள் பட்டியலிடப்பட்டுள்ள இதுபோன்ற கருவி ஐகான் இருந்திருக்க வேண்டும்:

![சர்வரிலிருந்து கருவிகள்](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/tools-button-visual-studio-code.png)

1. கருவி ஐகானை கிளிக் செய்யவும், இதுபோன்று கருவிகளின் பட்டியலைக் காண்பீர்கள்:

    ![கருவிகள்](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/select-tools-visual-studio-code.png)

1. கருவி செயல்படுத்த ஒரு முன்னோட்டத்தை உரையாடலில் உள்ளிடவும். எடுத்துக்காட்டாக, நீங்கள் ஒரு ஆர்டரின் தகவலைக் பெறுவதற்கான கருவி தேர்ந்தெடுத்திருந்தால், முகவரிடம் ஆர்டரைப் பற்றி கேட்கலாம். இதோ முன்மொழிவு உதாரணம்:

    ```text
    get information from order 2
    ```
  
    இப்போது நீங்கள் ஒரு கருவி செயல்படுத்த தொடர வேண்டும் என்று தெரிவிக்கும் கருவி ஐகானுடன் சந்திக்கப்போகிறீர்கள். கருவியை இயக்கத் தொடர தேர்ந்தெடுக்கவும், கீழ்காணும் வகையில் வெளியீடு தோன்றும்:

    ![புரொம்ப்ட் முடிவுகள்](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/chat-results-visual-studio-code.png)

    **மேலே நீங்கள் பார்க்கும் விஷயம் நீங்கள் அமைத்த கருவிகளைக் கட்டுப்படுத்தும், ஆனால் கருத்து என்னவென்றால் மேலே போல எழுத்துருவாக்க பதிலைக் பெற வேண்டும்**

## குறிப்பு

இதற்கு மேலும் கற்றுக்கொள்ள:

- [Azure API Management மற்றும் MCP குறித்த பயிற்சி](https://learn.microsoft.com/en-us/azure/api-management/export-rest-mcp-server)
- [Python உதாரணம்: Azure API Managementஐப் பயன்படுத்தி தூர MCP சர்வர்களை பாதுகாப்பது (சோதனை நிலை)](https://github.com/Azure-Samples/remote-mcp-apim-functions-python)

- [MCP கிளையன்ட் அங்கீகாரம் ஆய்வகம்](https://github.com/Azure-Samples/AI-Gateway/tree/main/labs/mcp-client-authorization)

- [VS Code க்கான Azure API Management நீட்டிப்பைப் பயன்படுத்தி API களை இறக்குமதி செய்து நிர்வகிப்பது](https://learn.microsoft.com/en-us/azure/api-management/visual-studio-code-tutorial)

- [Azure API Center இல் தூர MCP சர்வர்களை பதிவு செய்து கண்டுபிடிக்கவும்](https://learn.microsoft.com/en-us/azure/api-center/register-discover-mcp-server)
- [AI Gateway](https://github.com/Azure-Samples/AI-Gateway) Azure API Management உடன் பல AI திறன்களை காட்டும் சிறந்த நிரல்
- [AI Gateway பணிமுடிவுகள்](https://azure-samples.github.io/AI-Gateway/) Azure போர்டலைப் பயன்படுத்தி பணிமுடிவுகள் கொண்டுள்ளன, இது AI திறன்களை மதிப்பாய்வு செய்யத் தொடங்க சிறந்த வழி.

## அடுத்தது என்ன

- மீண்டும்: [வழக்கறிஞர் ஆய்வுகளின் மேலோட்டம்](./README.md)
- அடுத்து: [Azure AI பயண முகவர்கள்](./travelagentsample.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**உறுதி அறிவிப்பு**:  
இந்த ஆவணம் AI மொழிபெயர்ப்பு சேவை [Co-op Translator](https://github.com/Azure/co-op-translator) மூலம் மொழிபெயர்க்கப்பட்டுள்ளது. நாங்கள் துல்லியத்திற்கு முயலுகிறோம் என்றாலும், தானியங்கி மொழிபெயர்ப்புகள் சில பிழைகள் அல்லது தவறுகள் கொண்டிருக்கலாம் என்பதை தயவுசெய்து கருத்தில் கொள்ளவும். இயல்புநிலை மொழியில் உள்ள அசல் ஆவணம் அதிகாரப்பூர்வ மூலமாக கருதப்பட வேண்டும். முக்கியமான தகவல்களுக்கு, தொழில்முறை மனித மொழிபெயர்ப்பு பரிந்துரைக்கப்படுகிறது. இந்த மொழிபெயர்ப்பின் பயன்படுத்துதலால் ஏற்படும் எந்தவொரு தவறுபாடுகள் அல்லது தவறான புரிதலுகளுக்கும் நாங்கள் பொறுப்பாற்றமாட்டோம்.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->