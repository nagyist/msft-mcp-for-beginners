# שיטות אבטחה מומלצות ל-MCP לשנת 2025

מדריך מקיף זה מפרט שיטות אבטחה חיוניות ליישום מערכות Model Context Protocol (MCP) בהתבסס על ה-**MCP Specification 2025-11-25** העדכנית ותקני התעשייה הנוכחיים. שיטות אלו מתייחסות הן לדאגות אבטחה מסורתיות והן לאיומים ספציפיים לבינה מלאכותית הייחודיים לפריסות MCP.

## דרישות אבטחה קריטיות

### בקרות אבטחה הכרחיות (דרישות MUST)

1. **אימות אסימון**: שרתי MCP **אסור להם** לקבל כל אסימון שלא הונפק במפורש עבור שרת ה-MCP עצמו  
2. **אימות הרשאות**: שרתי MCP שמיישמים הרשאות **חייבים** לאמת את כל הבקשות הנכנסות ו**אסור להם** להשתמש במפגשים לאימות  
3. **הסכמת משתמש**: שרתי פרוקסי MCP המשתמשים בזיהוי לקוח סטטי **חייבים** לקבל הסכמה מפורשת של המשתמש עבור כל לקוח שנרשם דינמית  
4. **זיהוי מפגשים מאובטח**: שרתי MCP **חייבים** להשתמש בזיהוי מפגשים קריפטוגרפי, לא דטרמיניסטי, שנוצר ע"י מחוללי מספרים אקראיים מאובטחים

## שיטות אבטחה מרכזיות

### 1. אימות וקידוח קלט  
- **אימות קלט מקיף**: לאמת ולנקות את כל הקלטים כדי למנוע התקפות הזרקה, בעיות confused deputy, ופגיעויות הזרקת פקודות  
- **אכיפת סכמת פרמטרים**: ליישם אימות סכמת JSON מחמירה לכל פרמטרי הכלים וקלטי ה-API  
- **סינון תוכן**: להשתמש ב-Microsoft Prompt Shields ו-Azure Content Safety כדי לסנן תוכן זדוני בהוראות ובתגובות  
- **קידוח פלט**: לאמת ולנקות את כל הפלטים של המודל לפני הצגתם למשתמשים או למערכות משלימות

### 2. מצוינות באימות והרשאה  
- **ספקי זהות חיצוניים**: להסמיך אימות לספקי זהות מבוססים (Microsoft Entra ID, ספקי OAuth 2.1) במקום ליישם אימות אישי  
- **הרשאות מדויקות**: ליישם הרשאות מפורטות לכלים ספציפיים על פי עיקרון הזכות המינימלית  
- **ניהול מחזור חיים של אסימונים**: להשתמש באסימוני גישה קצרים עם סיבוב מאובטח ואימות קהל מתאים  
- **אימות רב-שלבי**: לדרוש MFA לכל גישה מנהלתית ולפעולות רגישות

### 3. פרוטוקולי תקשורת מאובטחים  
- **אבטחת שכבת הובלה**: להשתמש ב-HTTPS/TLS 1.3 לכל תקשורת MCP עם אימות תעודות נכון  
- **הצפנה מקצה לקצה**: ליישם שכבות הצפנה נוספות לנתונים רגישים מאוד במעבר ולאחסון  
- **ניהול תעודות**: לנהל מחזור חיים של תעודות עם תהליכי חידוש אוטומטיים  
- **אכיפת גרסת פרוטוקול**: להשתמש בגרסת הפרוטוקול הנוכחית של MCP (2025-11-25) עם משא ומתן גרסאות תקין

### 4. הגבלת קצב מתקדמת והגנה על משאבים  
- **הגבלת קצב מרובת שכבות**: ליישם הגבלת קצב ברמות משתמש, מפגש, כלי ומשאבים למניעת התעללות  
- **הגבלת קצב אדפטיבית**: להשתמש בהגבלת קצב מבוססת למידת מכונה המתאימה לתבניות שימוש ואינדיקטורים של איום  
- **ניהול מכסות משאבים**: לקבוע מגבלות מתאימות למשאבי חישוב, שימוש בזיכרון וזמן ביצוע  
- **הגנה מפני DDoS**: לפרוס מערכות הגנה רחבות DDoS וניתוח תעבורה

### 5. רישום ומעקב מקיפים  
- **רישום ביקורת מובנה**: ליישם לוגים מפורטים וניתנים לחיפוש לכל פעולות MCP, הרצת כלים ואירועי אבטחה  
- **מעקב אבטחה בזמן אמת**: לפרוס מערכות SIEM עם גילוי חריגויות מבוסס AI לעומסי MCP  
- **רישום תואם פרטיות**: לרשום אירועי אבטחה תוך שמירה על דרישות ותקנות פרטיות הנתונים  
- **שילוב במענה לאירועים**: לחבר מערכות רישום לתהליכי מענה לאירועים אוטומטיים

### 6. שיטות אחסון מאובטחות משופרות  
- **מודולי אבטחת חומרה**: להשתמש באחסון מפתחות מגובה HSM (Azure Key Vault, AWS CloudHSM) לפעולות קריפטוגרפיות קריטיות  
- **ניהול מפתחות הצפנה**: ליישם סיבוב מפתחות נכון, הפרדה ובקרות גישה למפתחות הצפנה  
- **ניהול סודות**: לאחסן את כל מפתחות ה-API, אסימונים ואישורי גישה במערכות ניהול סודות ייעודיות  
- **סיווג נתונים**: לסווג את הנתונים לפי רמות רגישות וליישם אמצעי הגנה מתאימים

### 7. ניהול אסימונים מתקדם  
- **מניעת Token Passthrough**: לאסור במפורש תבניות העברת אסימונים העוקפות בקרות אבטחה  
- **אימות קהל יעד**: תמיד לוודא שטענות הקהל של האסימון תואמות לזהות שרת MCP המיועד  
- **הרשאה מבוססת טענות**: ליישם הרשאות מפורטות מבוססות על טענות האסימון ומאפייני המשתמש  
- **קישור אסימונים**: לקשר אסימונים למפגשים, למשתמשים או למכשירים ספציפיים כאשר מתאים

### 8. ניהול מפגשים מאובטח  
- **זיהוי מפגש קריפטוגרפי**: ליצור מזהי מפגש באמצעות מחוללי מספרים אקראיים מאובטחים (לא סדרות צפויות)  
- **קישור ייחודי למשתמש**: לקשר מזהי מפגש למידע ספציפי למשתמש באמצעות פורמטים מאובטחים כמו `<user_id>:<session_id>`  
- **בקרות מחזור חיים למפגש**: ליישם תפוגה, סיבוב וביטול מפגשים כראוי  
- **כותרות אבטחה למפגש**: להשתמש בכותרות אבטחה מתאימות של HTTP להגנה על מפגשים

### 9. בקרות אבטחה ספציפיות לבינה מלאכותית  
- **הגנה מפני הזרקת הוראות**: לפרוס Microsoft Prompt Shields עם הדגשה, תוחמים, וטכניקות סימון נתונים  
- **מניעת הרעלת כלים**: לאמת מטא-דאטה של כלים, לנטר שינויים דינמיים ולאמת שלמות כלים  
- **אימות פלטי מודל**: לסרוק פלטי מודלים לזיהוי דליפות נתונים, תוכן פוגע או הפרות מדיניות אבטחה  
- **הגנת חלון הקשר**: ליישם בקרות למניעת הרעלת חלון הקשר והתקפות מניפולציה

### 10. אבטחת ביצוע כלים  
- **סנדבוקסינג להרצת כלים**: להריץ כלים בסביבות מבודדות וממוכללות עם הגבלות משאבים  
- **הפרדת הרשאות**: להריץ כלים עם הרשאות מינימליות נדרשות וחשבונות שירות מופרדים  
- **בידוד רשת**: ליישם סגמנטציה של רשת לסביבות הרצת כלים  
- **ניטור ביצוע**: לנטר את הרצת הכלים לגילוי התנהגות חריגה, שימוש במשאבים והפרות אבטחה

### 11. אימות אבטחה מתמשך  
- **בדיקות אבטחה אוטומטיות**: לשלב בדיקות אבטחה בצנרת CI/CD עם כלים כמו GitHub Advanced Security  
- **ניהול פגיעויות**: לסרוק באופן סדיר את כל התלויות, כולל דגמי AI ושירותים חיצוניים  
- **בדיקות חדירה**: לבצע הערכות אבטחה סדירות הממוקדות ביישומי MCP  
- **סקירות קוד אבטחה**: ליישם סקירות אבטחה חובה לכל שינויים בקוד הקשורים ל-MCP

### 12. אבטחת שרשרת אספקה לבינה מלאכותית  
- **אימות רכיבים**: לאמת מקור, שלמות ואבטחה של כל רכיבי הבינה המלאכותית (דגמים, embedding, API)  
- **ניהול תלות**: להתעדכן במלאי נוכחי של התוכנה והתלויות לבינה מלאכותית עם מעקב פגיעויות  
- **מאגרי קוד מהימנים**: להשתמש במקורות מאומתים ואמינים לכל הדגמים, ספריות וכלים  
- **מעקב שרשרת אספקה**: לנטר ברציפות פגיעויות אצל ספקי שירות AI ומאגרי דגמים

## תבניות אבטחה מתקדמות

### ארכיטקטורת Zero Trust ל-MCP  
- **לעולם אל תבטח, תמיד אמת**: ליישם אימות מתמשך לכל המשתתפים במערכת MCP  
- **מיקרו-סגמנטציה**: לבודד רכיבי MCP עם בקרות רשת וזהות מפורטות  
- **גישה מותנית**: ליישם בקרות גישה מבוססות סיכון המתאימות להקשר ולהתנהגות  
- **הערכת סיכון מתמשכת**: להעריך דינמית את עמידות האבטחה על סמך אינדיקטורי איום עדכניים

### יישום בינה מלאכותית ששומר על פרטיות  
- **מזעור נתונים**: לחשוף רק את הנתונים המינימליים הנדרשים לכל פעולה במערכת MCP  
- **פרטיות דיפרנציאלית**: ליישם טכניקות שמירה על פרטיות לעיבוד נתונים רגישים  
- **הצפנה הומומורפית**: להשתמש בטכניקות הצפנה מתקדמות לחישובים מאובטחים על נתונים מוצפנים  
- **למידה מבוזרת**: ליישם גישות למידה מבוזרת ששומרות על מקומיות ופרטיות נתונים

### תגובה לאירועים במערכות AI  
- **נהלי תגובה ספציפיים ל-AI**: לפתח נהלי תגובה מותאמים לאיומי AI ו-MCP  
- **תגובה אוטומטית**: ליישם סגירה ותיקון אוטומטיים לאירועים נפוצים באבטחת AI  
- **יכולות פורנזיות**: לשמור על מוכנות פורנזית לפריצות ולדליפות במערכות AI  
- **נהלי שיקום**: להקים נהלים להתאוששות מהרעלת דגמי AI, התקפות זריקת הוראות ופריצות שירותים

## משאבים ותקנים ליישום

### 🏔️ הדרכות מעשיות לאבטחה  
- **[סדנת פסגת אבטחת MCP (Sherpa)](https://azure-samples.github.io/sherpa/)** - סדנה מעשית מקיפה לאבטחת שרתי MCP ב-Azure  
- **[מדריך אבטחה של MCP מ-OWASP](https://microsoft.github.io/mcp-azure-security-guide/)** - אדריכלות ייחוס והנחיות ליישום OWASP MCP Top 10

### תיעוד רשמי של MCP  
- [MCP Specification 2025-11-25](https://spec.modelcontextprotocol.io/specification/2025-11-25/) - מפרט הפרוטוקול הנוכחי  
- [MCP Security Best Practices](https://modelcontextprotocol.io/specification/2025-11-25/basic/security_best_practices) - הנחיות אבטחה רשמיות  
- [MCP Authorization Specification](https://modelcontextprotocol.io/specification/2025-11-25/basic/authorization) - דפוסי אימות והרשאה  
- [MCP Transport Security](https://modelcontextprotocol.io/specification/2025-11-25/transports/) - דרישות אבטחת שכבת ההובלה

### פתרונות אבטחה של מיקרוסופט  
- [Microsoft Prompt Shields](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection) - הגנה מתקדמת מפני הזרקת הוראות  
- [Azure Content Safety](https://learn.microsoft.com/azure/ai-services/content-safety/) - סינון תוכן AI מקיף  
- [Microsoft Entra ID](https://learn.microsoft.com/entra/identity-platform/v2-oauth2-auth-code-flow) - ניהול זהות וגישה ארגוני  
- [Azure Key Vault](https://learn.microsoft.com/azure/key-vault/general/basic-concepts) - ניהול סודות ואישורים מאובטח  
- [GitHub Advanced Security](https://github.com/security/advanced-security) - סריקת אבטחה לשרשרת אספקה וקוד

### תקני אבטחה ומסגרות עבודה  
- [OAuth 2.1 Security Best Practices](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics) - הנחיות אבטחה עדכניות ל-OAuth  
- [OWASP Top 10](https://owasp.org/www-project-top-ten/) - סיכוני אבטחה ביישומי רשת  
- [OWASP Top 10 ל-LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559) - סיכוני אבטחה ספציפיים לבינה מלאכותית  
- [NIST AI Risk Management Framework](https://www.nist.gov/itl/ai-risk-management-framework) - ניהול סיכוני בינה מלאכותית מקיף  
- [ISO 27001:2022](https://www.iso.org/standard/27001) - מערכות ניהול אבטחת מידע

### מדריכים והדרכות ליישום  
- [ניהול API ב-Azure כשער אימות MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690) - דפוסי אימות ארגוניים  
- [Microsoft Entra ID עם שרתי MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/) - אינטגרציה עם ספקי זהות  
- [יישום אחסון אסימונים מאובטח](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2) - שיטות ניהול אסימונים  
- [הצפנה מקצה לקצה ל-AI](https://learn.microsoft.com/azure/architecture/example-scenario/confidential/end-to-end-encryption) - דפוסי הצפנה מתקדמים

### משאבי אבטחה מתקדמים  
- [Microsoft Security Development Lifecycle](https://www.microsoft.com/sdl) - שיטות פיתוח מאובטחות  
- [הנחיות צוות אדום ל-AI](https://learn.microsoft.com/security/ai-red-team/) - בדיקות אבטחה ספציפיות ל-AI  
- [מיפוי איומים עבור מערכות AI](https://learn.microsoft.com/security/adoption/approach/threats-ai) - מתודולוגיית מיפוי איומים ל-AI  
- [הנדסת פרטיות ל-AI](https://www.microsoft.com/security/blog/2021/07/13/microsofts-pet-project-privacy-enhancing-technologies-in-action/) - טכניקות שמירה על פרטיות בבינה מלאכותית

### תאימות וממשל  
- [תאימות GDPR ל-AI](https://learn.microsoft.com/compliance/regulatory/gdpr-data-protection-impact-assessments) - תאימות פרטיות במערכות AI  
- [מסגרת ממשל ל-AI](https://learn.microsoft.com/azure/architecture/guide/responsible-ai/responsible-ai-overview) - יישום בינה מלאכותית אחראית  
- [SOC 2 לשירותי AI](https://learn.microsoft.com/compliance/regulatory/offering-soc) - בקרות אבטחה לספקי שירות AI  
- [תאימות HIPAA ל-AI](https://learn.microsoft.com/compliance/regulatory/offering-hipaa-hitech) - דרישות תאימות בבריאות ל-AI

### DevSecOps ואוטומציה  
- [צנרת DevSecOps ל-AI](https://learn.microsoft.com/azure/devops/migrate/security-validation-cicd-pipeline) - צנרת פיתוח אבטחה ל-AI  
- [בדיקות אבטחה אוטומטיות](https://learn.microsoft.com/security/engineering/devsecops) - אימות אבטחה מתמשך  
- [אבטחת תשתיות כקוד](https://learn.microsoft.com/security/engineering/infrastructure-security) - פריסה מאובטחת של תשתיות  
- [אבטחת מכולות ל-AI](https://learn.microsoft.com/azure/container-instances/container-instances-image-security) - אבטחת מכולות לעומסי AI

### ניטור ומענה לאירועים  
- [Azure Monitor לעומסי AI](https://learn.microsoft.com/azure/azure-monitor/overview) - פתרונות ניטור מקיפים  
- [תגובה לאירועי אבטחה ב-AI](https://learn.microsoft.com/security/compass/incident-response-playbooks) - נהלי תגובה ספציפיים ל-AI  
- [SIEM למערכות AI](https://learn.microsoft.com/azure/sentinel/overview) - ניהול מידע ובקרה לאבטחה  
- [מודיעין איומים ל-AI](https://learn.microsoft.com/security/compass/security-operations-videos-and-decks#threat-intelligence) - מקורות מודיעין איומים ל-AI

## 🔄 שיפור מתמשך

### הישאר מעודכן עם תקנים מתפתחים  
- **עדכוני מפרט MCP**: לנטר שינויים רשמיים במפרט MCP והנחיות אבטחה  
- **מודיעין איומים**: להירשם להזנות איומי אבטחה לבינה מלאכותית ומאגרי פגיעויות  
- **השתתפות בקהילה**: השתתפות בדיוני קהילת האבטחה של MCP וקבוצות עבודה  
- **הערכה סדירה**: ביצוע הערכות רבעוניות למצב האבטחה ועדכון התהליכים בהתאם  

### תרומה לאבטחת MCP  
- **מחקר אבטחה**: תרומה למחקר אבטחת MCP ותכניות גילוי פגיעויות  
- **שיתוף שיטות עבודה מיטביות**: שיתוף יישומי אבטחה ולמידות עם הקהילה  
- **פיתוח תקנים**: השתתפות בפיתוח מפרטי MCP וביצירת תקני אבטחה  
- **פיתוח כלים**: פיתוח ושיתוף כלים וספריות אבטחה לאקוסיסטם של MCP  

---

*מסמך זה משקף את שיטות העבודה הטובות ביותר לאבטחת MCP נכון ל-18 בדצמבר 2025, מבוסס על מפרט MCP 2025-11-25. יש לסקור ולעדכן את שיטות האבטחה באופן סדיר ככל שהפרוטוקול ונוף האיומים מתפתחים.*  

## מה הלאה  

- קרא: [שיטות העבודה הטובות ביותר לאבטחת MCP 2025](./mcp-security-best-practices-2025.md)  
- חזור אל: [סקירת מודול האבטחה](./README.md)  
- המשך אל: [מודול 3: התחלת עבודה](../03-GettingStarted/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**הודעת אחריות**:  
מסמך זה תורגם באמצעות שירות תרגום מבוסס בינה מלאכותית [Co-op Translator](https://github.com/Azure/co-op-translator). כאשר אנו שואפים לדיוק, יש להבין כי תרגומים אוטומטיים עלולים להכיל שגיאות או אי דיוקים. המסמך המקורי בשפת המקור נחשב למקור הסמכותי. למידע קריטי מומלץ להיעזר בתרגום מקצועי על ידי אדם. אנו לא נישא באחריות על אי הבנות או פרשנויות שגויות הנובעות מהשימוש בתרגום זה.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->